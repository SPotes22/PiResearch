k.net.XmlHttp.setFactory=function(a,b){k.net.XmlHttp.setGlobalFactory(new k.net.WrapperXmlHttpFactory(k.asserts.assert(a),k.asserts.assert(b)))};k.net.XmlHttp.setGlobalFactory=function(a){k.net.XmlHttp.factory_=a};k.net.DefaultXmlHttpFactory=function(){};k.inherits(k.net.DefaultXmlHttpFactory,k.net.XmlHttpFactory);k.net.DefaultXmlHttpFactory.prototype.createInstance=function(){var a=dd(this);return a?new ActiveXObject(a):new XMLHttpRequest};
var dd=function(a){if(k.net.XmlHttp.ASSUME_NATIVE_XHR||k.net.XmlHttpDefines.ASSUME_NATIVE_XHR)return"";if(!a.ieProgId_&&"undefined"==typeof XMLHttpRequest&&"undefined"!=typeof ActiveXObject){for(var b=["MSXML2.XMLHTTP.6.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],c=0;c<b.length;c++){var f=b[c];try{return new ActiveXObject(f),a.ieProgId_=f}catch(g){}}throw Error("Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed");}return a.ieProgId_};k.net.XmlHttp.setGlobalFactory(new k.net.DefaultXmlHttpFactory);k.promise={};k.promise.Resolver=function(){};k.Thenable=function(){};k.Thenable.prototype.then=function(){};k.Thenable.IMPLEMENTED_BY_PROP="$goog_Thenable";k.Thenable.addImplementation=function(a){a.prototype[k.Thenable.IMPLEMENTED_BY_PROP]=!0};k.Thenable.isImplementedBy=function(a){if(!a)return!1;try{return!!a[k.Thenable.IMPLEMENTED_BY_PROP]}catch(b){return!1}};k.Promise=function(a,b){this.state_=k.Promise.State_.PENDING;this.result_=void 0;this.callbackEntriesTail_=this.callbackEntries_=this.parent_=null;this.executing_=!1;0<k.Promise.UNHANDLED_REJECTION_DELAY?this.unhandledRejectionId_=0:0==k.Promise.UNHANDLED_REJECTION_DELAY&&(this.hadUnhandledRejection_=!1);k.Promise.LONG_STACK_TRACES&&(this.stack_=[],ed(this,Error("created")),this.currentStep_=0);if(a!=k.nullFunction)try{var c=this;a.call(b,function(f){fd(c,k.Promise.State_.FULFILLED,f)},function(f){if(k.DEBUG&&
!(f instanceof k.Promise.CancellationError))try{if(f instanceof Error)throw f;throw Error("Promise rejected.");}catch(g){}fd(c,k.Promise.State_.REJECTED,f)})}catch(f){fd(this,k.Promise.State_.REJECTED,f)}};k.Promise.LONG_STACK_TRACES=!1;k.Promise.UNHANDLED_REJECTION_DELAY=0;k.Promise.State_={PENDING:0,BLOCKED:1,FULFILLED:2,REJECTED:3};k.Promise.CallbackEntry_=function(){this.next=this.context=this.onRejected=this.onFulfilled=this.child=null;this.always=!1};
k.Promise.CallbackEntry_.prototype.reset=function(){this.context=this.onRejected=this.onFulfilled=this.child=null;this.always=!1};k.Promise.DEFAULT_MAX_UNUSED=100;k.Promise.freelist_=new k.async.FreeList(function(){return new k.Promise.CallbackEntry_},function(a){a.reset()},k.Promise.DEFAULT_MAX_UNUSED);k.Promise.getCallbackEntry_=function(a,b,c){var f=k.Promise.freelist_.get();f.onFulfilled=a;f.onRejected=b;f.context=c;return f};k.Promise.returnEntry_=function(a){k.Promise.freelist_.put(a)};
k.Promise.resolve=function(a){if(a instanceof k.Promise)return a;var b=new k.Promise(k.nullFunction);fd(b,k.Promise.State_.FULFILLED,a);return b};k.Promise.reject=function(a){return new k.Promise(function(b,c){c(a)})};k.Promise.resolveThen_=function(a,b,c){k.Promise.maybeThen_(a,b,c,null)||k.async.run(k.partial(b,a))};k.Promise.race=function(a){return new k.Promise(function(b,c){a.length||b(void 0);for(var f=0,g;f<a.length;f++)g=a[f],k.Promise.resolveThen_(g,b,c)})};
k.Promise.all=function(a){return new k.Promise(function(b,c){var f=a.length,g=[];if(f)for(var h=function(E,H){f--;g[E]=H;0==f&&b(g)},l=function(E){c(E)},r=0,v;r<a.length;r++)v=a[r],k.Promise.resolveThen_(v,k.partial(h,r),l);else b(g)})};
k.Promise.allSettled=function(a){return new k.Promise(function(b){var c=a.length,f=[];if(c)for(var g=function(r,v,E){c--;f[r]=v?{fulfilled:!0,value:E}:{fulfilled:!1,reason:E};0==c&&b(f)},h=0,l;h<a.length;h++)l=a[h],k.Promise.resolveThen_(l,k.partial(g,h,!0),k.partial(g,h,!1));else b(f)})};
k.Promise.firstFulfilled=function(a){return new k.Promise(function(b,c){var f=a.length,g=[];if(f)for(var h=function(E){b(E)},l=function(E,H){f--;g[E]=H;0==f&&c(g)},r=0,v;r<a.length;r++)v=a[r],k.Promise.resolveThen_(v,h,k.partial(l,r));else b(void 0)})};k.Promise.withResolver=function(){var a,b,c=new k.Promise(function(f,g){a=f;b=g});return new k.Promise.Resolver_(c,a,b)};
k.Promise.prototype.then=function(a,b,c){null!=a&&k.asserts.assertFunction(a,"opt_onFulfilled should be a function.");null!=b&&k.asserts.assertFunction(b,"opt_onRejected should be a function. Did you pass opt_context as the second argument instead of the third?");k.Promise.LONG_STACK_TRACES&&ed(this,Error("then"));return gd(this,"function"===typeof a?a:null,"function"===typeof b?b:null,c)};k.Thenable.addImplementation(k.Promise);
var hd=function(a,b){k.Promise.LONG_STACK_TRACES&&ed(a,Error("thenCatch"));return gd(a,null,b,void 0)};k.Promise.prototype.cancel=function(a){if(this.state_==k.Promise.State_.PENDING){var b=new k.Promise.CancellationError(a);k.async.run(function(){id(this,b)},this)}};
var id=function(a,b){if(a.state_==k.Promise.State_.PENDING)if(a.parent_){var c=a.parent_;if(c.callbackEntries_){for(var f=0,g=null,h=null,l=c.callbackEntries_;l&&(l.always||(f++,l.child==a&&(g=l),!(g&&1<f)));l=l.next)g||(h=l);g&&(c.state_==k.Promise.State_.PENDING&&1==f?id(c,b):(h?(f=h,k.asserts.assert(c.callbackEntries_),k.asserts.assert(null!=f),f.next==c.callbackEntriesTail_&&(c.callbackEntriesTail_=f),f.next=f.next.next):jd(c),kd(c,g,k.Promise.State_.REJECTED,b)))}a.parent_=null}else fd(a,k.Promise.State_.REJECTED,
b)},md=function(a,b){a.callbackEntries_||a.state_!=k.Promise.State_.FULFILLED&&a.state_!=k.Promise.State_.REJECTED||ld(a);k.asserts.assert(null!=b.onFulfilled);a.callbackEntriesTail_?a.callbackEntriesTail_.next=b:a.callbackEntries_=b;a.callbackEntriesTail_=b},gd=function(a,b,c,f){var g=k.Promise.getCallbackEntry_(null,null,null);g.child=new k.Promise(function(h,l){g.onFulfilled=b?function(r){try{var v=b.call(f,r);h(v)}catch(E){l(E)}}:h;g.onRejected=c?function(r){try{var v=c.call(f,r);void 0===v&&
r instanceof k.Promise.CancellationError?l(r):h(v)}catch(E){l(E)}}:l});g.child.parent_=a;md(a,g);return g.child};k.Promise.prototype.unblockAndFulfill_=function(a){k.asserts.assert(this.state_==k.Promise.State_.BLOCKED);this.state_=k.Promise.State_.PENDING;fd(this,k.Promise.State_.FULFILLED,a)};k.Promise.prototype.unblockAndReject_=function(a){k.asserts.assert(this.state_==k.Promise.State_.BLOCKED);this.state_=k.Promise.State_.PENDING;fd(this,k.Promise.State_.REJECTED,a)};
var fd=function(a,b,c){a.state_==k.Promise.State_.PENDING&&(a===c&&(b=k.Promise.State_.REJECTED,c=new TypeError("Promise cannot resolve to itself")),a.state_=k.Promise.State_.BLOCKED,k.Promise.maybeThen_(c,a.unblockAndFulfill_,a.unblockAndReject_,a)||(a.result_=c,a.state_=b,a.parent_=null,ld(a),b!=k.Promise.State_.REJECTED||c instanceof k.Promise.CancellationError||k.Promise.addUnhandledRejection_(a,c)))};
k.Promise.maybeThen_=function(a,b,c,f){if(a instanceof k.Promise)return null!=b&&k.asserts.assertFunction(b,"opt_onFulfilled should be a function."),null!=c&&k.asserts.assertFunction(c,"opt_onRejected should be a function. Did you pass opt_context as the second argument instead of the third?"),k.Promise.LONG_STACK_TRACES&&ed(a,Error("then")),md(a,k.Promise.getCallbackEntry_(b||k.nullFunction,c||null,f)),!0;if(k.Thenable.isImplementedBy(a))return a.then(b,c,f),!0;if(k.isObject(a))try{var g=a.then;
if("function"===typeof g)return k.Promise.tryThen_(a,g,b,c,f),!0}catch(h){return c.call(f,h),!0}return!1};k.Promise.tryThen_=function(a,b,c,f,g){var h=!1,l=function(v){h||(h=!0,c.call(g,v))},r=function(v){h||(h=!0,f.call(g,v))};try{b.call(a,l,r)}catch(v){r(v)}};
var ld=function(a){a.executing_||(a.executing_=!0,k.async.run(a.executeCallbacks_,a))},jd=function(a){var b=null;a.callbackEntries_&&(b=a.callbackEntries_,a.callbackEntries_=b.next,b.next=null);a.callbackEntries_||(a.callbackEntriesTail_=null);null!=b&&k.asserts.assert(null!=b.onFulfilled);return b};k.Promise.prototype.executeCallbacks_=function(){for(var a;a=jd(this);)k.Promise.LONG_STACK_TRACES&&this.currentStep_++,kd(this,a,this.state_,this.result_);this.executing_=!1};
var kd=function(a,b,c,f){if(c==k.Promise.State_.REJECTED&&b.onRejected&&!b.always)if(0<k.Promise.UNHANDLED_REJECTION_DELAY)for(;a&&a.unhandledRejectionId_;a=a.parent_)k.global.clearTimeout(a.unhandledRejectionId_),a.unhandledRejectionId_=0;else if(0==k.Promise.UNHANDLED_REJECTION_DELAY)for(;a&&a.hadUnhandledRejection_;a=a.parent_)a.hadUnhandledRejection_=!1;if(b.child)b.child.parent_=null,k.Promise.invokeCallback_(b,c,f);else try{b.always?b.onFulfilled.call(b.context):k.Promise.invokeCallback_(b,
c,f)}catch(g){k.Promise.handleRejection_.call(null,g)}k.Promise.returnEntry_(b)};k.Promise.invokeCallback_=function(a,b,c){b==k.Promise.State_.FULFILLED?a.onFulfilled.call(a.context,c):a.onRejected&&a.onRejected.call(a.context,c)};
var ed=function(a,b){if(k.Promise.LONG_STACK_TRACES&&"string"===typeof b.stack){var c=b.stack.split("\n",4)[3];b=b.message;b+=Array(11-b.length).join(" ");a.stack_.push(b+c)}},nd=function(a,b){if(k.Promise.LONG_STACK_TRACES&&b&&"string"===typeof b.stack&&a.stack_.length){for(var c=["Promise trace:"],f=a;f;f=f.parent_){for(var g=a.currentStep_;0<=g;g--)c.push(f.stack_[g]);c.push("Value: ["+(f.state_==k.Promise.State_.REJECTED?"REJECTED":"FULFILLED")+"] <"+String(f.result_)+">")}b.stack+="\n\n"+c.join("\n")}};
k.Promise.addUnhandledRejection_=function(a,b){0<k.Promise.UNHANDLED_REJECTION_DELAY?a.unhandledRejectionId_=k.global.setTimeout(function(){nd(a,b);k.Promise.handleRejection_.call(null,b)},k.Promise.UNHANDLED_REJECTION_DELAY):0==k.Promise.UNHANDLED_REJECTION_DELAY&&(a.hadUnhandledRejection_=!0,k.async.run(function(){a.hadUnhandledRejection_&&(nd(a,b),k.Promise.handleRejection_.call(null,b))}))};k.Promise.handleRejection_=Rc;
k.Promise.setUnhandledRejectionHandler=function(a){k.Promise.handleRejection_=a};k.Promise.CancellationError=function(a){ha.call(this,a)};k.inherits(k.Promise.CancellationError,ha);k.Promise.CancellationError.prototype.name="cancel";k.Promise.Resolver_=function(a,b,c){this.promise=a;this.resolve=b;this.reject=c};k.Timer=function(a,b){k.events.EventTarget.call(this);this.interval_=a||1;this.timerObject_=b||k.Timer.defaultTimerObject;this.boundTick_=k.bind(this.tick_,this);this.last_=k.now()};k.inherits(k.Timer,k.events.EventTarget);k.Timer.MAX_TIMEOUT_=2147483647;k.Timer.INVALID_TIMEOUT_ID_=-1;k.Timer.prototype.enabled=!1;k.Timer.defaultTimerObject=k.global;k.Timer.intervalScale=.8;d=k.Timer.prototype;d.timer_=null;
d.setInterval=function(a){this.interval_=a;this.timer_&&this.enabled?(this.stop(),this.start()):this.timer_&&this.stop()};d.tick_=function(){if(this.enabled){var a=k.now()-this.last_;0<a&&a<this.interval_*k.Timer.intervalScale?this.timer_=this.timerObject_.setTimeout(this.boundTick_,this.interval_-a):(this.timer_&&(this.timerObject_.clearTimeout(this.timer_),this.timer_=null),this.dispatchEvent(k.Timer.TICK),this.enabled&&(this.stop(),this.start()))}};
d.start=function(){this.enabled=!0;this.timer_||(this.timer_=this.timerObject_.setTimeout(this.boundTick_,this.interval_),this.last_=k.now())};d.stop=function(){this.enabled=!1;this.timer_&&(this.timerObject_.clearTimeout(this.timer_),this.timer_=null)};d.disposeInternal=function(){k.Timer.superClass_.disposeInternal.call(this);this.stop();delete this.timerObject_};k.Timer.TICK="tick";
k.Timer.callOnce=function(a,b,c){if("function"===typeof a)c&&(a=k.bind(a,c));else if(a&&"function"==typeof a.handleEvent)a=k.bind(a.handleEvent,a);else throw Error("Invalid listener argument");return Number(b)>k.Timer.MAX_TIMEOUT_?k.Timer.INVALID_TIMEOUT_ID_:k.Timer.defaultTimerObject.setTimeout(a,b||0)};k.Timer.clear=function(a){k.Timer.defaultTimerObject.clearTimeout(a)};
k.Timer.promise=function(a,b){var c=null;return hd(new k.Promise(function(f,g){c=k.Timer.callOnce(function(){f(b)},a);c==k.Timer.INVALID_TIMEOUT_ID_&&g(Error("Failed to schedule timer."))}),function(f){k.Timer.clear(c);throw f;})};k.net.XhrIo=function(a){k.events.EventTarget.call(this);this.headers=new k.structs.Map;this.xmlHttpFactory_=a||null;this.active_=!1;this.xhrOptions_=this.xhr_=null;this.lastError_=this.lastMethod_=this.lastUri_="";this.inAbort_=this.inOpen_=this.inSend_=this.errorDispatched_=!1;this.timeoutInterval_=0;this.timeoutId_=null;this.responseType_=k.net.XhrIo.ResponseType.DEFAULT;this.useXhr2Timeout_=this.progressEventsEnabled_=this.withCredentials_=!1};k.inherits(k.net.XhrIo,k.events.EventTarget);
k.net.XhrIo.ResponseType={DEFAULT:"",TEXT:"text",DOCUMENT:"document",BLOB:"blob",ARRAY_BUFFER:"arraybuffer"};k.net.XhrIo.prototype.logger_=k.log.getLogger();k.net.XhrIo.CONTENT_TYPE_HEADER="Content-Type";k.net.XhrIo.CONTENT_TRANSFER_ENCODING="Content-Transfer-Encoding";k.net.XhrIo.HTTP_SCHEME_PATTERN=/^https?$/i;k.net.XhrIo.METHODS_WITH_FORM_DATA=["POST","PUT"];k.net.XhrIo.FORM_CONTENT_TYPE="application/x-www-form-urlencoded;charset=utf-8";k.net.XhrIo.XHR2_TIMEOUT_="timeout";
k.net.XhrIo.XHR2_ON_TIMEOUT_="ontimeout";k.net.XhrIo.sendInstances_=[];k.net.XhrIo.send=function(a,b,c,f,g,h,l){var r=new k.net.XhrIo;k.net.XhrIo.sendInstances_.push(r);b&&r.listen(k.net.EventType.COMPLETE,b);r.listenOnce(k.net.EventType.READY,r.cleanupSend_);h&&(r.timeoutInterval_=Math.max(0,h));l&&(r.withCredentials_=l);r.send(a,c,f,g);return r};k.net.XhrIo.cleanup=function(){for(var a=k.net.XhrIo.sendInstances_;a.length;)a.pop().dispose()};
k.net.XhrIo.protectEntryPoints=function(a){k.net.XhrIo.prototype.onReadyStateChangeEntryPoint_=a.protectEntryPoint(k.net.XhrIo.prototype.onReadyStateChangeEntryPoint_)};k.net.XhrIo.prototype.cleanupSend_=function(){this.dispose();Aa(k.net.XhrIo.sendInstances_,this)};
k.net.XhrIo.prototype.send=function(a,b,c,f){if(this.xhr_)throw Error("[goog.net.XhrIo] Object is active with another request="+this.lastUri_+"; newUri="+a);b=b?b.toUpperCase():"GET";this.lastUri_=a;this.lastError_="";this.lastMethod_=b;this.errorDispatched_=!1;this.active_=!0;this.xhr_=this.xmlHttpFactory_?this.xmlHttpFactory_.createInstance():k.net.XmlHttp();this.xhrOptions_=this.xmlHttpFactory_?this.xmlHttpFactory_.getOptions():k.net.XmlHttp.getOptions();this.xhr_.onreadystatechange=k.bind(this.onReadyStateChange_,
this);this.progressEventsEnabled_&&"onprogress"in this.xhr_&&(this.xhr_.onprogress=k.bind(function(h){this.onProgressHandler_(h,!0)},this),this.xhr_.upload&&(this.xhr_.upload.onprogress=k.bind(this.onProgressHandler_,this)));try{k.log.fine(this.logger_,od(this,"Opening Xhr")),this.inOpen_=!0,this.xhr_.open(b,String(a),!0),this.inOpen_=!1}catch(h){k.log.fine(this.logger_,od(this,"Error opening Xhr: "+h.message));this.error_(k.net.ErrorCode.EXCEPTION,h);return}a=c||"";var g=this.headers.clone();f&&
k.structs.forEach(f,function(h,l){g.set(l,h)});f=ra(g.getKeys(),k.net.XhrIo.isContentTypeHeader_);c=k.global.FormData&&a instanceof k.global.FormData;!ua(k.net.XhrIo.METHODS_WITH_FORM_DATA,b)||f||c||g.set(k.net.XhrIo.CONTENT_TYPE_HEADER,k.net.XhrIo.FORM_CONTENT_TYPE);g.forEach(function(h,l){this.xhr_.setRequestHeader(l,h)},this);this.responseType_&&(this.xhr_.responseType=this.responseType_);"withCredentials"in this.xhr_&&this.xhr_.withCredentials!==this.withCredentials_&&(this.xhr_.withCredentials=
this.withCredentials_);try{pd(this),0<this.timeoutInterval_&&(this.useXhr2Timeout_=k.net.XhrIo.shouldUseXhr2Timeout_(this.xhr_),k.log.fine(this.logger_,od(this,"Will abort after "+this.timeoutInterval_+"ms if incomplete, xhr2 "+this.useXhr2Timeout_)),this.useXhr2Timeout_?(this.xhr_[k.net.XhrIo.XHR2_TIMEOUT_]=this.timeoutInterval_,this.xhr_[k.net.XhrIo.XHR2_ON_TIMEOUT_]=k.bind(this.timeout_,this)):this.timeoutId_=k.Timer.callOnce(this.timeout_,this.timeoutInterval_,this)),k.log.fine(this.logger_,od(this,
"Sending request")),this.inSend_=!0,this.xhr_.send(a),this.inSend_=!1}catch(h){k.log.fine(this.logger_,od(this,"Send error: "+h.message)),this.error_(k.net.ErrorCode.EXCEPTION,h)}};k.net.XhrIo.shouldUseXhr2Timeout_=function(a){return k.userAgent.IE&&k.userAgent.isVersionOrHigher(9)&&"number"===typeof a[k.net.XhrIo.XHR2_TIMEOUT_]&&void 0!==a[k.net.XhrIo.XHR2_ON_TIMEOUT_]};k.net.XhrIo.isContentTypeHeader_=function(a){return k.string.caseInsensitiveEquals(k.net.XhrIo.CONTENT_TYPE_HEADER,a)};
k.net.XhrIo.prototype.timeout_=function(){"undefined"!=typeof k&&this.xhr_&&(this.lastError_="Timed out after "+this.timeoutInterval_+"ms, aborting",k.log.fine(this.logger_,od(this,this.lastError_)),this.dispatchEvent(k.net.EventType.TIMEOUT),this.abort(k.net.ErrorCode.TIMEOUT))};k.net.XhrIo.prototype.error_=function(a,b){this.active_=!1;this.xhr_&&(this.inAbort_=!0,this.xhr_.abort(),this.inAbort_=!1);this.lastError_=b;qd(this);rd(this)};
var qd=function(a){a.errorDispatched_||(a.errorDispatched_=!0,a.dispatchEvent(k.net.EventType.COMPLETE),a.dispatchEvent(k.net.EventType.ERROR))};k.net.XhrIo.prototype.abort=function(){this.xhr_&&this.active_&&(k.log.fine(this.logger_,od(this,"Aborting")),this.active_=!1,this.inAbort_=!0,this.xhr_.abort(),this.inAbort_=!1,this.dispatchEvent(k.net.EventType.COMPLETE),this.dispatchEvent(k.net.EventType.ABORT),rd(this))};
k.net.XhrIo.prototype.disposeInternal=function(){this.xhr_&&(this.active_&&(this.active_=!1,this.inAbort_=!0,this.xhr_.abort(),this.inAbort_=!1),rd(this,!0));k.net.XhrIo.superClass_.disposeInternal.call(this)};k.net.XhrIo.prototype.onReadyStateChange_=function(){if(!this.isDisposed())if(this.inOpen_||this.inSend_||this.inAbort_)sd(this);else this.onReadyStateChangeEntryPoint_()};k.net.XhrIo.prototype.onReadyStateChangeEntryPoint_=function(){sd(this)};
var sd=function(a){if(a.active_&&"undefined"!=typeof k)if(a.xhrOptions_[k.net.XmlHttp.OptionType.LOCAL_REQUEST_ERROR]&&td(a)==k.net.XmlHttp.ReadyState.COMPLETE&&2==a.getStatus())k.log.fine(a.logger_,od(a,"Local request error detected and ignored"));else if(a.inSend_&&td(a)==k.net.XmlHttp.ReadyState.COMPLETE)k.Timer.callOnce(a.onReadyStateChange_,0,a);else if(a.dispatchEvent(k.net.EventType.READY_STATE_CHANGE),ud(a)){k.log.fine(a.logger_,od(a,"Request complete"));a.active_=!1;try{if(a.isSuccess())a.dispatchEvent(k.net.EventType.COMPLETE),
a.dispatchEvent(k.net.EventType.SUCCESS);else{try{var b=td(a)>k.net.XmlHttp.ReadyState.LOADED?a.xhr_.statusText:""}catch(c){k.log.fine(a.logger_,"Can not get status: "+c.message),b=""}a.lastError_=b+" ["+a.getStatus()+"]";qd(a)}}finally{rd(a)}}};
k.net.XhrIo.prototype.onProgressHandler_=function(a,b){k.asserts.assert(a.type===k.net.EventType.PROGRESS,"goog.net.EventType.PROGRESS is of the same type as raw XHR progress.");this.dispatchEvent(k.net.XhrIo.buildProgressEvent_(a,k.net.EventType.PROGRESS));this.dispatchEvent(k.net.XhrIo.buildProgressEvent_(a,b?k.net.EventType.DOWNLOAD_PROGRESS:k.net.EventType.UPLOAD_PROGRESS))};k.net.XhrIo.buildProgressEvent_=function(a,b){return{type:b,lengthComputable:a.lengthComputable,loaded:a.loaded,total:a.total}};
var rd=function(a,b){if(a.xhr_){pd(a);var c=a.xhr_,f=a.xhrOptions_[k.net.XmlHttp.OptionType.USE_NULL_FUNCTION]?k.nullFunction:null;a.xhr_=null;a.xhrOptions_=null;b||a.dispatchEvent(k.net.EventType.READY);try{c.onreadystatechange=f}catch(g){k.log.error(a.logger_,"Problem encountered resetting onreadystatechange: "+g.message)}}},pd=function(a){a.xhr_&&a.useXhr2Timeout_&&(a.xhr_[k.net.XhrIo.XHR2_ON_TIMEOUT_]=null);a.timeoutId_&&(k.Timer.clear(a.timeoutId_),a.timeoutId_=null)},ud=function(a){return td(a)==
k.net.XmlHttp.ReadyState.COMPLETE};k.net.XhrIo.prototype.isSuccess=function(){var a=this.getStatus(),b;if(!(b=k.net.HttpStatus.isSuccess(a))){if(a=0===a)a=k.uri.utils.getEffectiveScheme(String(this.lastUri_)),a=!k.net.XhrIo.HTTP_SCHEME_PATTERN.test(a);b=a}return b};var td=function(a){return a.xhr_?a.xhr_.readyState:k.net.XmlHttp.ReadyState.UNINITIALIZED};k.net.XhrIo.prototype.getStatus=function(){try{return td(this)>k.net.XmlHttp.ReadyState.LOADED?this.xhr_.status:-1}catch(a){return-1}};
k.net.XhrIo.prototype.getResponseHeader=function(a){if(this.xhr_&&ud(this))return a=this.xhr_.getResponseHeader(a),null===a?void 0:a};k.net.XhrIo.prototype.getAllResponseHeaders=function(){return this.xhr_&&ud(this)?this.xhr_.getAllResponseHeaders()||"":""};var od=function(a,b){return b+" ["+a.lastMethod_+" "+a.lastUri_+" "+a.getStatus()+"]"};k.debug.entryPointRegistry.register(function(a){k.net.XhrIo.prototype.onReadyStateChangeEntryPoint_=a(k.net.XhrIo.prototype.onReadyStateChangeEntryPoint_)});k.craw.AppAuthenticator=function(){};
