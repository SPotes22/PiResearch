k.debug.deepExpose=function(a,b){var c=[],f=[],g={},h=function(l,r){var v=r+"  ";try{if(void 0===l)c.push("undefined");else if(null===l)c.push("NULL");else if("string"===typeof l)c.push('"'+l.replace(/\n/g,"\n"+r)+'"');else if("function"===typeof l)c.push(String(l).replace(/\n/g,"\n"+r));else if(k.isObject(l)){k.hasUid(l)||f.push(l);var E=k.getUid(l);if(g[E])c.push("*** reference loop detected (id="+E+") ***");else{g[E]=!0;c.push("{");for(var H in l)if(b||"function"!==typeof l[H])c.push("\n"),c.push(v),
c.push(H+" = "),h(l[H],v);c.push("\n"+r+"}");delete g[E]}}else c.push(l)}catch(ia){c.push("*** "+ia+" ***")}};h(a,"");for(a=0;a<f.length;a++)k.removeUid(f[a]);return c.join("")};k.debug.exposeArray=function(a){for(var b=[],c=0;c<a.length;c++)Array.isArray(a[c])?b.push(k.debug.exposeArray(a[c])):b.push(a[c]);return"[ "+b.join(", ")+" ]"};
k.debug.normalizeErrorObject=function(a){var b=k.getObjectByName("window.location.href");null==a&&(a='Unknown Error of type "null/undefined"');if("string"===typeof a)return{message:a,name:"Unknown error",lineNumber:"Not available",fileName:b,stack:"Not available"};var c=!1;try{var f=a.lineNumber||a.line||"Not available"}catch(l){f="Not available",c=!0}try{var g=a.fileName||a.filename||a.sourceURL||k.global.$googDebugFname||b}catch(l){g="Not available",c=!0}b=k.debug.serializeErrorStack_(a);if(!(!c&&
a.lineNumber&&a.fileName&&a.stack&&a.message&&a.name)){c=a.message;if(null==c){if(a.constructor&&a.constructor instanceof Function){var h=a.constructor.name?a.constructor.name:k.debug.getFunctionName(a.constructor);c='Unknown Error of type "'+h+'"';if(k.debug.CHECK_FOR_THROWN_EVENT&&"Event"==h)try{c=c+' with Event.type "'+(a.type||"")+'"'}catch(l){}}else c="Unknown Error of unknown type";"function"===typeof a.toString&&Object.prototype.toString!==a.toString&&(c+=": "+a.toString())}return{message:c,
name:a.name||"UnknownError",lineNumber:f,fileName:g,stack:b||"Not available"}}a.stack=b;return a};k.debug.serializeErrorStack_=function(a,b){b||(b={});b[k.debug.serializeErrorAsKey_(a)]=!0;var c=a.stack||"";(a=a.cause)&&!b[k.debug.serializeErrorAsKey_(a)]&&(c+="\nCaused by: ",a.stack&&0==a.stack.indexOf(a.toString())||(c+="string"===typeof a?a:a.message+"\n"),c+=k.debug.serializeErrorStack_(a,b));return c};
k.debug.serializeErrorAsKey_=function(a){var b="";"function"===typeof a.toString&&(b=""+a);return b+a.stack};k.debug.enhanceError=function(a,b){a instanceof Error||(a=Error(a),Error.captureStackTrace&&Error.captureStackTrace(a,k.debug.enhanceError));a.stack||(a.stack=k.debug.getStacktrace(k.debug.enhanceError));if(b){for(var c=0;a["message"+c];)++c;a["message"+c]=String(b)}return a};
k.debug.enhanceErrorWithContext=function(a,b){a=k.debug.enhanceError(a);if(b)for(var c in b)k.debug.errorcontext.addErrorContext(a,c,b[c]);return a};
k.debug.getStacktraceSimple=function(a){if(!k.debug.FORCE_SLOPPY_STACKS){var b=k.debug.getNativeStackTrace_(k.debug.getStacktraceSimple);if(b)return b}b=[];for(var c=arguments.callee.caller,f=0;c&&(!a||f<a);){b.push(k.debug.getFunctionName(c));b.push("()\n");try{c=c.caller}catch(g){b.push("[exception trying to get caller]\n");break}f++;if(f>=k.debug.MAX_STACK_DEPTH){b.push("[...long stack...]");break}}a&&f>=a?b.push("[...reached max depth limit...]"):b.push("[end]");return b.join("")};
k.debug.MAX_STACK_DEPTH=50;k.debug.getNativeStackTrace_=function(a){var b=Error();if(Error.captureStackTrace)return Error.captureStackTrace(b,a),String(b.stack);try{throw b;}catch(c){b=c}return(a=b.stack)?String(a):null};k.debug.getStacktrace=function(a){var b;k.debug.FORCE_SLOPPY_STACKS||(b=k.debug.getNativeStackTrace_(a||k.debug.getStacktrace));b||(b=k.debug.getStacktraceHelper_(a||arguments.callee.caller,[]));return b};
k.debug.getStacktraceHelper_=function(a,b){var c=[];if(ua(b,a))c.push("[...circular reference...]");else if(a&&b.length<k.debug.MAX_STACK_DEPTH){c.push(k.debug.getFunctionName(a)+"(");for(var f=a.arguments,g=0;f&&g<f.length;g++){0<g&&c.push(", ");var h=f[g];switch(typeof h){case "object":h=h?"object":"null";break;case "string":break;case "number":h=String(h);break;case "boolean":h=h?"true":"false";break;case "function":h=(h=k.debug.getFunctionName(h))?h:"[fn]";break;default:h=typeof h}40<h.length&&
(h=h.substr(0,40)+"...");c.push(h)}b.push(a);c.push(")\n");try{c.push(k.debug.getStacktraceHelper_(a.caller,b))}catch(l){c.push("[exception trying to get caller]\n")}}else a?c.push("[...long stack...]"):c.push("[end]");return c.join("")};k.debug.getFunctionName=function(a){if(k.debug.fnNameCache_[a])return k.debug.fnNameCache_[a];a=String(a);if(!k.debug.fnNameCache_[a]){var b=/function\s+([^\(]+)/m.exec(a);k.debug.fnNameCache_[a]=b?b[1]:"[Anonymous]"}return k.debug.fnNameCache_[a]};
k.debug.makeWhitespaceVisible=function(a){return a.replace(/ /g,"[_]").replace(/\f/g,"[f]").replace(/\n/g,"[n]\n").replace(/\r/g,"[r]").replace(/\t/g,"[t]")};k.debug.runtimeType=function(a){return a instanceof Function?a.displayName||a.name||"unknown type name":a instanceof Object?a.constructor.displayName||a.constructor.name||Object.prototype.toString.call(a):null===a?"null":typeof a};k.debug.fnNameCache_={};k.debug.freezeInternal_=k.DEBUG&&Object.freeze||function(a){return a};k.debug.freeze=function(a){return k.debug.freezeInternal_(a)};k.debug.entryPointRegistry={};k.debug.EntryPointMonitor=function(){};k.debug.entryPointRegistry.refList_=[];k.debug.entryPointRegistry.monitors_=[];k.debug.entryPointRegistry.monitorsMayExist_=!1;k.debug.entryPointRegistry.register=function(a){k.debug.entryPointRegistry.refList_[k.debug.entryPointRegistry.refList_.length]=a;if(k.debug.entryPointRegistry.monitorsMayExist_)for(var b=k.debug.entryPointRegistry.monitors_,c=0;c<b.length;c++)a(k.bind(b[c].wrap,b[c]))};
k.debug.entryPointRegistry.monitorAll=function(a){k.debug.entryPointRegistry.monitorsMayExist_=!0;for(var b=k.bind(a.wrap,a),c=0;c<k.debug.entryPointRegistry.refList_.length;c++)k.debug.entryPointRegistry.refList_[c](b);k.debug.entryPointRegistry.monitors_.push(a)};
k.debug.entryPointRegistry.unmonitorAllIfPossible=function(a){var b=k.debug.entryPointRegistry.monitors_;k.asserts.assert(a==b[b.length-1],"Only the most recent monitor can be unwrapped.");a=k.bind(a.unwrap,a);for(var c=0;c<k.debug.entryPointRegistry.refList_.length;c++)k.debug.entryPointRegistry.refList_[c](a);b.length--};function Wa(a){a&&"function"==typeof a.dispose&&a.dispose()}k.dispose=Wa;function Xa(a){for(var b=0,c=arguments.length;b<c;++b){var f=arguments[b];k.isArrayLike(f)?Xa.apply(null,f):Wa(f)}}k.disposeAll=Xa;k.disposable={};k.disposable.IDisposable=function(){};k.Disposable=function(){k.Disposable.MONITORING_MODE!=k.Disposable.MonitoringMode.OFF&&(k.Disposable.instances_[k.getUid(this)]=this);this.disposed_=this.disposed_;this.onDisposeCallbacks_=this.onDisposeCallbacks_};k.Disposable.MonitoringMode={OFF:0,PERMANENT:1,INTERACTIVE:2};k.Disposable.MONITORING_MODE=0;k.Disposable.INCLUDE_STACK_ON_CREATION=!0;k.Disposable.instances_={};
k.Disposable.getUndisposedObjects=function(){var a=[],b;for(b in k.Disposable.instances_)k.Disposable.instances_.hasOwnProperty(b)&&a.push(k.Disposable.instances_[Number(b)]);return a};k.Disposable.clearUndisposedObjects=function(){k.Disposable.instances_={}};k.Disposable.prototype.disposed_=!1;k.Disposable.prototype.isDisposed=function(){return this.disposed_};
k.Disposable.prototype.dispose=function(){if(!this.disposed_&&(this.disposed_=!0,this.disposeInternal(),k.Disposable.MONITORING_MODE!=k.Disposable.MonitoringMode.OFF)){var a=k.getUid(this);if(k.Disposable.MONITORING_MODE==k.Disposable.MonitoringMode.PERMANENT&&!k.Disposable.instances_.hasOwnProperty(a))throw Error(this+" did not call the goog.Disposable base constructor or was disposed of after a clearUndisposedObjects call");if(k.Disposable.MONITORING_MODE!=k.Disposable.MonitoringMode.OFF&&this.onDisposeCallbacks_&&
0<this.onDisposeCallbacks_.length)throw Error(this+" did not empty its onDisposeCallbacks queue. This probably means it overrode dispose() or disposeInternal() without calling the superclass' method.");delete k.Disposable.instances_[a]}};k.Disposable.prototype.disposeInternal=function(){if(this.onDisposeCallbacks_)for(;this.onDisposeCallbacks_.length;)this.onDisposeCallbacks_.shift()()};k.Disposable.isDisposed=function(){return!1};k.events={};
k.events.BrowserFeature={HAS_W3C_BUTTON:!k.userAgent.IE||k.userAgent.isDocumentModeOrHigher(9),HAS_W3C_EVENT_SUPPORT:!k.userAgent.IE||k.userAgent.isDocumentModeOrHigher(9),SET_KEY_CODE_TO_PREVENT_DEFAULT:k.userAgent.IE&&!k.userAgent.isVersionOrHigher("9"),HAS_NAVIGATOR_ONLINE_PROPERTY:!k.userAgent.WEBKIT||k.userAgent.isVersionOrHigher("528"),HAS_HTML5_NETWORK_EVENT_SUPPORT:k.userAgent.GECKO&&k.userAgent.isVersionOrHigher("1.9b")||k.userAgent.IE&&k.userAgent.isVersionOrHigher("8")||k.userAgent.OPERA&&k.userAgent.isVersionOrHigher("9.5")||
k.userAgent.WEBKIT&&k.userAgent.isVersionOrHigher("528"),HTML5_NETWORK_EVENTS_FIRE_ON_BODY:k.userAgent.GECKO&&!k.userAgent.isVersionOrHigher("8")||k.userAgent.IE&&!k.userAgent.isVersionOrHigher("9"),TOUCH_ENABLED:"ontouchstart"in k.global||!!(k.global.document&&document.documentElement&&"ontouchstart"in document.documentElement)||!(!k.global.navigator||!k.global.navigator.maxTouchPoints&&!k.global.navigator.msMaxTouchPoints),POINTER_EVENTS:"PointerEvent"in k.global,MSPOINTER_EVENTS:"MSPointerEvent"in
k.global&&!(!k.global.navigator||!k.global.navigator.msPointerEnabled),PASSIVE_EVENTS:function(){if(!k.global.addEventListener||!Object.defineProperty)return!1;var a=!1,b=Object.defineProperty({},"passive",{get:function(){a=!0}});try{k.global.addEventListener("test",k.nullFunction,b),k.global.removeEventListener("test",k.nullFunction,b)}catch(c){}return a}()};k.events.EventId=function(a){this.id=a};k.events.EventId.prototype.toString=function(){return this.id};k.events.Event=function(a,b){this.type=a instanceof k.events.EventId?String(a):a;this.currentTarget=this.target=b;this.defaultPrevented=this.propagationStopped_=!1};k.events.Event.prototype.stopPropagation=function(){this.propagationStopped_=!0};k.events.Event.prototype.preventDefault=function(){this.defaultPrevented=!0};k.events.Event.stopPropagation=function(a){a.stopPropagation()};k.events.Event.preventDefault=function(a){a.preventDefault()};k.events.getVendorPrefixedName_=function(a){return k.userAgent.WEBKIT?"webkit"+a:k.userAgent.OPERA?"o"+a.toLowerCase():a.toLowerCase()};
k.events.EventType={CLICK:"click",RIGHTCLICK:"rightclick",DBLCLICK:"dblclick",AUXCLICK:"auxclick",MOUSEDOWN:"mousedown",MOUSEUP:"mouseup",MOUSEOVER:"mouseover",MOUSEOUT:"mouseout",MOUSEMOVE:"mousemove",MOUSEENTER:"mouseenter",MOUSELEAVE:"mouseleave",MOUSECANCEL:"mousecancel",SELECTIONCHANGE:"selectionchange",SELECTSTART:"selectstart",WHEEL:"wheel",KEYPRESS:"keypress",KEYDOWN:"keydown",KEYUP:"keyup",BLUR:"blur",FOCUS:"focus",DEACTIVATE:"deactivate",FOCUSIN:"focusin",FOCUSOUT:"focusout",CHANGE:"change",
RESET:"reset",SELECT:"select",SUBMIT:"submit",INPUT:"input",PROPERTYCHANGE:"propertychange",DRAGSTART:"dragstart",DRAG:"drag",DRAGENTER:"dragenter",DRAGOVER:"dragover",DRAGLEAVE:"dragleave",DROP:"drop",DRAGEND:"dragend",TOUCHSTART:"touchstart",TOUCHMOVE:"touchmove",TOUCHEND:"touchend",TOUCHCANCEL:"touchcancel",BEFOREUNLOAD:"beforeunload",CONSOLEMESSAGE:"consolemessage",CONTEXTMENU:"contextmenu",DEVICECHANGE:"devicechange",DEVICEMOTION:"devicemotion",DEVICEORIENTATION:"deviceorientation",DOMCONTENTLOADED:"DOMContentLoaded",
ERROR:"error",HELP:"help",LOAD:"load",LOSECAPTURE:"losecapture",ORIENTATIONCHANGE:"orientationchange",READYSTATECHANGE:"readystatechange",RESIZE:"resize",SCROLL:"scroll",UNLOAD:"unload",CANPLAY:"canplay",CANPLAYTHROUGH:"canplaythrough",DURATIONCHANGE:"durationchange",EMPTIED:"emptied",ENDED:"ended",LOADEDDATA:"loadeddata",LOADEDMETADATA:"loadedmetadata",PAUSE:"pause",PLAY:"play",PLAYING:"playing",PROGRESS:"progress",RATECHANGE:"ratechange",SEEKED:"seeked",SEEKING:"seeking",STALLED:"stalled",SUSPEND:"suspend",
TIMEUPDATE:"timeupdate",VOLUMECHANGE:"volumechange",WAITING:"waiting",SOURCEOPEN:"sourceopen",SOURCEENDED:"sourceended",SOURCECLOSED:"sourceclosed",ABORT:"abort",UPDATE:"update",UPDATESTART:"updatestart",UPDATEEND:"updateend",HASHCHANGE:"hashchange",PAGEHIDE:"pagehide",PAGESHOW:"pageshow",POPSTATE:"popstate",COPY:"copy",PASTE:"paste",CUT:"cut",BEFORECOPY:"beforecopy",BEFORECUT:"beforecut",BEFOREPASTE:"beforepaste",ONLINE:"online",OFFLINE:"offline",MESSAGE:"message",CONNECT:"connect",INSTALL:"install",
ACTIVATE:"activate",FETCH:"fetch",FOREIGNFETCH:"foreignfetch",MESSAGEERROR:"messageerror",STATECHANGE:"statechange",UPDATEFOUND:"updatefound",CONTROLLERCHANGE:"controllerchange",ANIMATIONSTART:k.events.getVendorPrefixedName_("AnimationStart"),ANIMATIONEND:k.events.getVendorPrefixedName_("AnimationEnd"),ANIMATIONITERATION:k.events.getVendorPrefixedName_("AnimationIteration"),TRANSITIONEND:k.events.getVendorPrefixedName_("TransitionEnd"),POINTERDOWN:"pointerdown",POINTERUP:"pointerup",POINTERCANCEL:"pointercancel",
POINTERMOVE:"pointermove",POINTEROVER:"pointerover",POINTEROUT:"pointerout",POINTERENTER:"pointerenter",POINTERLEAVE:"pointerleave",GOTPOINTERCAPTURE:"gotpointercapture",LOSTPOINTERCAPTURE:"lostpointercapture",MSGESTURECHANGE:"MSGestureChange",MSGESTUREEND:"MSGestureEnd",MSGESTUREHOLD:"MSGestureHold",MSGESTURESTART:"MSGestureStart",MSGESTURETAP:"MSGestureTap",MSGOTPOINTERCAPTURE:"MSGotPointerCapture",MSINERTIASTART:"MSInertiaStart",MSLOSTPOINTERCAPTURE:"MSLostPointerCapture",MSPOINTERCANCEL:"MSPointerCancel",
MSPOINTERDOWN:"MSPointerDown",MSPOINTERENTER:"MSPointerEnter",MSPOINTERHOVER:"MSPointerHover",MSPOINTERLEAVE:"MSPointerLeave",MSPOINTERMOVE:"MSPointerMove",MSPOINTEROUT:"MSPointerOut",MSPOINTEROVER:"MSPointerOver",MSPOINTERUP:"MSPointerUp",TEXT:"text",TEXTINPUT:k.userAgent.IE?"textinput":"textInput",COMPOSITIONSTART:"compositionstart",COMPOSITIONUPDATE:"compositionupdate",COMPOSITIONEND:"compositionend",BEFOREINPUT:"beforeinput",EXIT:"exit",LOADABORT:"loadabort",LOADCOMMIT:"loadcommit",LOADREDIRECT:"loadredirect",
LOADSTART:"loadstart",LOADSTOP:"loadstop",RESPONSIVE:"responsive",SIZECHANGED:"sizechanged",UNRESPONSIVE:"unresponsive",VISIBILITYCHANGE:"visibilitychange",STORAGE:"storage",DOMSUBTREEMODIFIED:"DOMSubtreeModified",DOMNODEINSERTED:"DOMNodeInserted",DOMNODEREMOVED:"DOMNodeRemoved",DOMNODEREMOVEDFROMDOCUMENT:"DOMNodeRemovedFromDocument",DOMNODEINSERTEDINTODOCUMENT:"DOMNodeInsertedIntoDocument",DOMATTRMODIFIED:"DOMAttrModified",DOMCHARACTERDATAMODIFIED:"DOMCharacterDataModified",BEFOREPRINT:"beforeprint",
AFTERPRINT:"afterprint",BEFOREINSTALLPROMPT:"beforeinstallprompt",APPINSTALLED:"appinstalled"};k.events.getPointerFallbackEventName_=function(a,b,c){return k.events.BrowserFeature.POINTER_EVENTS?a:k.events.BrowserFeature.MSPOINTER_EVENTS?b:c};
k.events.PointerFallbackEventType={POINTERDOWN:k.events.getPointerFallbackEventName_(k.events.EventType.POINTERDOWN,k.events.EventType.MSPOINTERDOWN,k.events.EventType.MOUSEDOWN),POINTERUP:k.events.getPointerFallbackEventName_(k.events.EventType.POINTERUP,k.events.EventType.MSPOINTERUP,k.events.EventType.MOUSEUP),POINTERCANCEL:k.events.getPointerFallbackEventName_(k.events.EventType.POINTERCANCEL,k.events.EventType.MSPOINTERCANCEL,k.events.EventType.MOUSECANCEL),POINTERMOVE:k.events.getPointerFallbackEventName_(k.events.EventType.POINTERMOVE,
k.events.EventType.MSPOINTERMOVE,k.events.EventType.MOUSEMOVE),POINTEROVER:k.events.getPointerFallbackEventName_(k.events.EventType.POINTEROVER,k.events.EventType.MSPOINTEROVER,k.events.EventType.MOUSEOVER),POINTEROUT:k.events.getPointerFallbackEventName_(k.events.EventType.POINTEROUT,k.events.EventType.MSPOINTEROUT,k.events.EventType.MOUSEOUT),POINTERENTER:k.events.getPointerFallbackEventName_(k.events.EventType.POINTERENTER,k.events.EventType.MSPOINTERENTER,k.events.EventType.MOUSEENTER),POINTERLEAVE:k.events.getPointerFallbackEventName_(k.events.EventType.POINTERLEAVE,
k.events.EventType.MSPOINTERLEAVE,k.events.EventType.MOUSELEAVE)};
k.events.PointerTouchFallbackEventType={POINTERDOWN:k.events.getPointerFallbackEventName_(k.events.EventType.POINTERDOWN,k.events.EventType.MSPOINTERDOWN,k.events.EventType.TOUCHSTART),POINTERUP:k.events.getPointerFallbackEventName_(k.events.EventType.POINTERUP,k.events.EventType.MSPOINTERUP,k.events.EventType.TOUCHEND),POINTERCANCEL:k.events.getPointerFallbackEventName_(k.events.EventType.POINTERCANCEL,k.events.EventType.MSPOINTERCANCEL,k.events.EventType.TOUCHCANCEL),POINTERMOVE:k.events.getPointerFallbackEventName_(k.events.EventType.POINTERMOVE,
k.events.EventType.MSPOINTERMOVE,k.events.EventType.TOUCHMOVE)};k.events.PointerAsMouseEventType={MOUSEDOWN:k.events.PointerFallbackEventType.POINTERDOWN,MOUSEUP:k.events.PointerFallbackEventType.POINTERUP,MOUSECANCEL:k.events.PointerFallbackEventType.POINTERCANCEL,MOUSEMOVE:k.events.PointerFallbackEventType.POINTERMOVE,MOUSEOVER:k.events.PointerFallbackEventType.POINTEROVER,MOUSEOUT:k.events.PointerFallbackEventType.POINTEROUT,MOUSEENTER:k.events.PointerFallbackEventType.POINTERENTER,MOUSELEAVE:k.events.PointerFallbackEventType.POINTERLEAVE};
k.events.MouseAsMouseEventType={MOUSEDOWN:k.events.EventType.MOUSEDOWN,MOUSEUP:k.events.EventType.MOUSEUP,MOUSECANCEL:k.events.EventType.MOUSECANCEL,MOUSEMOVE:k.events.EventType.MOUSEMOVE,MOUSEOVER:k.events.EventType.MOUSEOVER,MOUSEOUT:k.events.EventType.MOUSEOUT,MOUSEENTER:k.events.EventType.MOUSEENTER,MOUSELEAVE:k.events.EventType.MOUSELEAVE};
k.events.PointerAsTouchEventType={TOUCHCANCEL:k.events.PointerTouchFallbackEventType.POINTERCANCEL,TOUCHEND:k.events.PointerTouchFallbackEventType.POINTERUP,TOUCHMOVE:k.events.PointerTouchFallbackEventType.POINTERMOVE,TOUCHSTART:k.events.PointerTouchFallbackEventType.POINTERDOWN};k.events.USE_LAYER_XY_AS_OFFSET_XY=!1;
k.events.BrowserEvent=function(a,b){k.events.Event.call(this,a?a.type:"");this.relatedTarget=this.currentTarget=this.target=null;this.button=this.screenY=this.screenX=this.clientY=this.clientX=this.offsetY=this.offsetX=0;this.key="";this.charCode=this.keyCode=0;this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1;this.state=null;this.pointerId=0;this.pointerType="";this.event_=null;if(a){var c=this.type=a.type,f=a.changedTouches&&a.changedTouches.length?a.changedTouches[0]:null;this.target=a.target||
a.srcElement;this.currentTarget=b;(b=a.relatedTarget)?k.userAgent.GECKO&&(k.reflect.canAccessProperty(b)||(b=null)):c==k.events.EventType.MOUSEOVER?b=a.fromElement:c==k.events.EventType.MOUSEOUT&&(b=a.toElement);this.relatedTarget=b;f?(this.clientX=void 0!==f.clientX?f.clientX:f.pageX,this.clientY=void 0!==f.clientY?f.clientY:f.pageY,this.screenX=f.screenX||0,this.screenY=f.screenY||0):(k.events.USE_LAYER_XY_AS_OFFSET_XY?(this.offsetX=void 0!==a.layerX?a.layerX:a.offsetX,this.offsetY=void 0!==a.layerY?
a.layerY:a.offsetY):(this.offsetX=k.userAgent.WEBKIT||void 0!==a.offsetX?a.offsetX:a.layerX,this.offsetY=k.userAgent.WEBKIT||void 0!==a.offsetY?a.offsetY:a.layerY),this.clientX=void 0!==a.clientX?a.clientX:a.pageX,this.clientY=void 0!==a.clientY?a.clientY:a.pageY,this.screenX=a.screenX||0,this.screenY=a.screenY||0);this.button=a.button;this.keyCode=a.keyCode||0;this.key=a.key||"";this.charCode=a.charCode||("keypress"==c?a.keyCode:0);this.ctrlKey=a.ctrlKey;this.altKey=a.altKey;this.shiftKey=a.shiftKey;
this.metaKey=a.metaKey;this.pointerId=a.pointerId||0;this.pointerType=k.events.BrowserEvent.getPointerType_(a);this.state=a.state;this.event_=a;a.defaultPrevented&&k.events.BrowserEvent.superClass_.preventDefault.call(this)}};k.inherits(k.events.BrowserEvent,k.events.Event);k.events.BrowserEvent.MouseButton={LEFT:0,MIDDLE:1,RIGHT:2};k.events.BrowserEvent.PointerType={MOUSE:"mouse",PEN:"pen",TOUCH:"touch"};k.events.BrowserEvent.IEButtonMap=k.debug.freeze([1,4,2]);
k.events.BrowserEvent.IE_BUTTON_MAP=k.events.BrowserEvent.IEButtonMap;k.events.BrowserEvent.IE_POINTER_TYPE_MAP=k.debug.freeze({2:k.events.BrowserEvent.PointerType.TOUCH,3:k.events.BrowserEvent.PointerType.PEN,4:k.events.BrowserEvent.PointerType.MOUSE});k.events.BrowserEvent.prototype.stopPropagation=function(){k.events.BrowserEvent.superClass_.stopPropagation.call(this);this.event_.stopPropagation?this.event_.stopPropagation():this.event_.cancelBubble=!0};
k.events.BrowserEvent.prototype.preventDefault=function(){k.events.BrowserEvent.superClass_.preventDefault.call(this);var a=this.event_;if(a.preventDefault)a.preventDefault();else if(a.returnValue=!1,k.events.BrowserFeature.SET_KEY_CODE_TO_PREVENT_DEFAULT)try{if(a.ctrlKey||112<=a.keyCode&&123>=a.keyCode)a.keyCode=-1}catch(b){}};k.events.BrowserEvent.getPointerType_=function(a){return"string"===typeof a.pointerType?a.pointerType:k.events.BrowserEvent.IE_POINTER_TYPE_MAP[a.pointerType]||""};k.events.Listenable=function(){};k.events.Listenable.IMPLEMENTED_BY_PROP="closure_listenable_"+(1E6*Math.random()|0);k.events.Listenable.addImplementation=function(a){a.prototype[k.events.Listenable.IMPLEMENTED_BY_PROP]=!0};k.events.Listenable.isImplementedBy=function(a){return!(!a||!a[k.events.Listenable.IMPLEMENTED_BY_PROP])};d=k.events.Listenable.prototype;d.listen=function(){};d.listenOnce=function(){};d.unlisten=function(){};d.unlistenByKey=function(){};d.dispatchEvent=function(){};
d.removeAllListeners=function(){};d.getParentEventTarget=function(){};d.fireListeners=function(){};d.getListeners=function(){};d.getListener=function(){};d.hasListener=function(){};k.events.ListenableKey=function(){};k.events.ListenableKey.counter_=0;k.events.ListenableKey.reserveKey=function(){return++k.events.ListenableKey.counter_};k.events.Listener=function(a,b,c,f,g){this.listener=a;this.proxy=null;this.src=b;this.type=c;this.capture=!!f;this.handler=g;this.key=k.events.ListenableKey.reserveKey();this.removed=this.callOnce=!1};k.events.Listener.ENABLE_MONITORING=!1;var Ya=function(a){a.removed=!0;a.listener=null;a.proxy=null;a.src=null;a.handler=null};k.events.ListenerMap=function(a){this.src=a;this.listeners={};this.typeCount_=0};k.events.ListenerMap.prototype.add=function(a,b,c,f,g){var h=a.toString();a=this.listeners[h];a||(a=this.listeners[h]=[],this.typeCount_++);var l=k.events.ListenerMap.findListenerIndex_(a,b,f,g);-1<l?(b=a[l],c||(b.callOnce=!1)):(b=new k.events.Listener(b,this.src,h,!!f,g),b.callOnce=c,a.push(b));return b};
k.events.ListenerMap.prototype.remove=function(a,b,c,f){a=a.toString();if(!(a in this.listeners))return!1;var g=this.listeners[a];b=k.events.ListenerMap.findListenerIndex_(g,b,c,f);return-1<b?(Ya(g[b]),Ba(g,b),0==g.length&&(delete this.listeners[a],this.typeCount_--),!0):!1};var Za=function(a,b){var c=b.type;if(!(c in a.listeners))return!1;var f=Aa(a.listeners[c],b);f&&(Ya(b),0==a.listeners[c].length&&(delete a.listeners[c],a.typeCount_--));return f};
k.events.ListenerMap.prototype.removeAll=function(a){a=a&&a.toString();var b=0,c;for(c in this.listeners)if(!a||c==a){for(var f=this.listeners[c],g=0;g<f.length;g++)++b,Ya(f[g]);delete this.listeners[c];this.typeCount_--}return b};k.events.ListenerMap.prototype.getListeners=function(a,b){a=this.listeners[a.toString()];var c=[];if(a)for(var f=0;f<a.length;++f){var g=a[f];g.capture==b&&c.push(g)}return c};
k.events.ListenerMap.prototype.getListener=function(a,b,c,f){a=this.listeners[a.toString()];var g=-1;a&&(g=k.events.ListenerMap.findListenerIndex_(a,b,c,f));return-1<g?a[g]:null};k.events.ListenerMap.prototype.hasListener=function(a,b){var c=void 0!==a,f=c?a.toString():"",g=void 0!==b;return k.object.some(this.listeners,function(h){for(var l=0;l<h.length;++l)if(!(c&&h[l].type!=f||g&&h[l].capture!=b))return!0;return!1})};
k.events.ListenerMap.findListenerIndex_=function(a,b,c,f){for(var g=0;g<a.length;++g){var h=a[g];if(!h.removed&&h.listener==b&&h.capture==!!c&&h.handler==f)return g}return-1};k.events.LISTENER_MAP_PROP_="closure_lm_"+(1E6*Math.random()|0);k.events.onString_="on";k.events.onStringMap_={};k.events.CaptureSimulationMode={OFF_AND_FAIL:0,OFF_AND_SILENT:1,ON:2};k.events.CAPTURE_SIMULATION_MODE=2;k.events.listenerCountEstimate_=0;
k.events.listen=function(a,b,c,f,g){if(f&&f.once)return k.events.listenOnce(a,b,c,f,g);if(Array.isArray(b)){for(var h=0;h<b.length;h++)k.events.listen(a,b[h],c,f,g);return null}c=k.events.wrapListener(c);return k.events.Listenable.isImplementedBy(a)?a.listen(b,c,k.isObject(f)?!!f.capture:!!f,g):k.events.listen_(a,b,c,!1,f,g)};
k.events.listen_=function(a,b,c,f,g,h){if(!b)throw Error("Invalid event type");var l=k.isObject(g)?!!g.capture:!!g;if(l&&!k.events.BrowserFeature.HAS_W3C_EVENT_SUPPORT){if(k.events.CAPTURE_SIMULATION_MODE==k.events.CaptureSimulationMode.OFF_AND_FAIL)return k.asserts.fail("Can not register capture listener in IE8-."),null;if(k.events.CAPTURE_SIMULATION_MODE==k.events.CaptureSimulationMode.OFF_AND_SILENT)return null}var r=k.events.getListenerMap_(a);r||(a[k.events.LISTENER_MAP_PROP_]=r=new k.events.ListenerMap(a));
c=r.add(b,c,f,l,h);if(c.proxy)return c;f=k.events.getProxy();c.proxy=f;f.src=a;f.listener=c;if(a.addEventListener)k.events.BrowserFeature.PASSIVE_EVENTS||(g=l),void 0===g&&(g=!1),a.addEventListener(b.toString(),f,g);else if(a.attachEvent)a.attachEvent(k.events.getOnString_(b.toString()),f);else if(a.addListener&&a.removeListener)k.asserts.assert("change"===b,"MediaQueryList only has a change event"),a.addListener(f);else throw Error("addEventListener and attachEvent are unavailable.");k.events.listenerCountEstimate_++;
return c};k.events.getProxy=function(){var a=k.events.handleBrowserEvent_,b=k.events.BrowserFeature.HAS_W3C_EVENT_SUPPORT?function(c){return a.call(b.src,b.listener,c)}:function(c){c=a.call(b.src,b.listener,c);if(!c)return c};return b};
k.events.listenOnce=function(a,b,c,f,g){if(Array.isArray(b)){for(var h=0;h<b.length;h++)k.events.listenOnce(a,b[h],c,f,g);return null}c=k.events.wrapListener(c);return k.events.Listenable.isImplementedBy(a)?a.listenOnce(b,c,k.isObject(f)?!!f.capture:!!f,g):k.events.listen_(a,b,c,!0,f,g)};k.events.listenWithWrapper=function(a,b,c,f,g){b.listen(a,c,f,g)};
k.events.unlisten=function(a,b,c,f,g){if(Array.isArray(b)){for(var h=0;h<b.length;h++)k.events.unlisten(a,b[h],c,f,g);return null}f=k.isObject(f)?!!f.capture:!!f;c=k.events.wrapListener(c);if(k.events.Listenable.isImplementedBy(a))return a.unlisten(b,c,f,g);if(!a)return!1;if(a=k.events.getListenerMap_(a))if(b=a.getListener(b,c,f,g))return k.events.unlistenByKey(b);return!1};
k.events.unlistenByKey=function(a){if("number"===typeof a||!a||a.removed)return!1;var b=a.src;if(k.events.Listenable.isImplementedBy(b))return b.unlistenByKey(a);var c=a.type,f=a.proxy;b.removeEventListener?b.removeEventListener(c,f,a.capture):b.detachEvent?b.detachEvent(k.events.getOnString_(c),f):b.addListener&&b.removeListener&&b.removeListener(f);k.events.listenerCountEstimate_--;(c=k.events.getListenerMap_(b))?(Za(c,a),0==c.typeCount_&&(c.src=null,b[k.events.LISTENER_MAP_PROP_]=null)):Ya(a);
return!0};k.events.unlistenWithWrapper=function(a,b,c,f,g){b.unlisten(a,c,f,g)};k.events.removeAll=function(a,b){if(!a)return 0;if(k.events.Listenable.isImplementedBy(a))return a.removeAllListeners(b);a=k.events.getListenerMap_(a);if(!a)return 0;var c=0;b=b&&b.toString();for(var f in a.listeners)if(!b||f==b)for(var g=a.listeners[f].concat(),h=0;h<g.length;++h)k.events.unlistenByKey(g[h])&&++c;return c};
k.events.getListeners=function(a,b){return k.events.Listenable.isImplementedBy(a)?a.getListeners(b,void 0):a?(a=k.events.getListenerMap_(a))?a.getListeners(b,void 0):[]:[]};k.events.getListener=function(a,b,c,f,g){c=k.events.wrapListener(c);f=!!f;return k.events.Listenable.isImplementedBy(a)?a.getListener(b,c,f,g):a?(a=k.events.getListenerMap_(a))?a.getListener(b,c,f,g):null:null};
k.events.hasListener=function(a,b,c){if(k.events.Listenable.isImplementedBy(a))return a.hasListener(b,c);a=k.events.getListenerMap_(a);return!!a&&a.hasListener(b,c)};k.events.expose=function(a){var b=[],c;for(c in a)a[c]&&a[c].id?b.push(c+" = "+a[c]+" ("+a[c].id+")"):b.push(c+" = "+a[c]);return b.join("\n")};k.events.getOnString_=function(a){return a in k.events.onStringMap_?k.events.onStringMap_[a]:k.events.onStringMap_[a]=k.events.onString_+a};
k.events.fireListeners=function(a,b,c){return k.events.Listenable.isImplementedBy(a)?a.fireListeners(b,c,void 0):k.events.fireListeners_(a,b,c,void 0)};k.events.fireListeners_=function(a,b,c,f){var g=!0;if(a=k.events.getListenerMap_(a))if(b=a.listeners[b.toString()])for(b=b.concat(),a=0;a<b.length;a++){var h=b[a];h&&h.capture==c&&!h.removed&&(h=k.events.fireListener(h,f),g=g&&!1!==h)}return g};
k.events.fireListener=function(a,b){var c=a.listener,f=a.handler||a.src;a.callOnce&&k.events.unlistenByKey(a);return c.call(f,b)};k.events.getTotalListenerCount=function(){return k.events.listenerCountEstimate_};k.events.dispatchEvent=function(a,b){k.asserts.assert(k.events.Listenable.isImplementedBy(a),"Can not use goog.events.dispatchEvent with non-goog.events.Listenable instance.");return a.dispatchEvent(b)};k.events.protectBrowserEventEntryPoint=function(a){k.events.handleBrowserEvent_=a.protectEntryPoint(k.events.handleBrowserEvent_)};
k.events.handleBrowserEvent_=function(a,b){if(a.removed)return!0;if(!k.events.BrowserFeature.HAS_W3C_EVENT_SUPPORT){var c=b||k.getObjectByName("window.event");b=new k.events.BrowserEvent(c,this);var f=!0;if(k.events.CAPTURE_SIMULATION_MODE==k.events.CaptureSimulationMode.ON){if(!k.events.isMarkedIeEvent_(c)){k.events.markIeEvent_(c);c=[];for(var g=b.currentTarget;g;g=g.parentNode)c.push(g);a=a.type;for(g=c.length-1;!b.propagationStopped_&&0<=g;g--){b.currentTarget=c[g];var h=k.events.fireListeners_(c[g],
a,!0,b);f=f&&h}for(g=0;!b.propagationStopped_&&g<c.length;g++)b.currentTarget=c[g],h=k.events.fireListeners_(c[g],a,!1,b),f=f&&h}}else f=k.events.fireListener(a,b);return f}return k.events.fireListener(a,new k.events.BrowserEvent(b,this))};k.events.markIeEvent_=function(a){var b=!1;if(0==a.keyCode)try{a.keyCode=-1;return}catch(c){b=!0}if(b||void 0==a.returnValue)a.returnValue=!0};k.events.isMarkedIeEvent_=function(a){return 0>a.keyCode||void 0!=a.returnValue};k.events.uniqueIdCounter_=0;
k.events.getUniqueId=function(a){return a+"_"+k.events.uniqueIdCounter_++};k.events.getListenerMap_=function(a){a=a[k.events.LISTENER_MAP_PROP_];return a instanceof k.events.ListenerMap?a:null};k.events.LISTENER_WRAPPER_PROP_="__closure_events_fn_"+(1E9*Math.random()>>>0);
k.events.wrapListener=function(a){k.asserts.assert(a,"Listener can not be null.");if("function"===typeof a)return a;k.asserts.assert(a.handleEvent,"An object listener must have handleEvent method.");a[k.events.LISTENER_WRAPPER_PROP_]||(a[k.events.LISTENER_WRAPPER_PROP_]=function(b){return a.handleEvent(b)});return a[k.events.LISTENER_WRAPPER_PROP_]};k.debug.entryPointRegistry.register(function(a){k.events.handleBrowserEvent_=a(k.events.handleBrowserEvent_)});k.events.EventHandler=function(a){k.Disposable.call(this);this.handler_=a;this.keys_={}};k.inherits(k.events.EventHandler,k.Disposable);k.events.EventHandler.typeArray_=[];k.events.EventHandler.prototype.listen=function(a,b,c,f){return this.listen_(a,b,c,f)};
k.events.EventHandler.prototype.listen_=function(a,b,c,f,g){Array.isArray(b)||(b&&(k.events.EventHandler.typeArray_[0]=b.toString()),b=k.events.EventHandler.typeArray_);for(var h=0;h<b.length;h++){var l=k.events.listen(a,b[h],c||this.handleEvent,f||!1,g||this.handler_||this);if(!l)break;this.keys_[l.key]=l}return this};k.events.EventHandler.prototype.listenOnce=function(a,b,c,f){return $a(this,a,b,c,f)};
var $a=function(a,b,c,f,g,h){if(Array.isArray(c))for(var l=0;l<c.length;l++)$a(a,b,c[l],f,g,h);else{b=k.events.listenOnce(b,c,f||a.handleEvent,g,h||a.handler_||a);if(!b)return a;a.keys_[b.key]=b}return a};d=k.events.EventHandler.prototype;d.listenWithWrapper=function(a,b,c,f){b.listen(a,c,f,this.handler_||this,this);return this};
d.unlisten=function(a,b,c,f,g){if(Array.isArray(b))for(var h=0;h<b.length;h++)this.unlisten(a,b[h],c,f,g);else if(a=k.events.getListener(a,b,c||this.handleEvent,k.isObject(f)?!!f.capture:!!f,g||this.handler_||this))k.events.unlistenByKey(a),delete this.keys_[a.key];return this};d.unlistenWithWrapper=function(a,b,c,f,g){b.unlisten(a,c,f,g||this.handler_||this,this);return this};
d.removeAll=function(){k.object.forEach(this.keys_,function(a,b){this.keys_.hasOwnProperty(b)&&k.events.unlistenByKey(a)},this);this.keys_={}};d.disposeInternal=function(){k.events.EventHandler.superClass_.disposeInternal.call(this);this.removeAll()};d.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented");};k.events.EventTarget=function(){k.Disposable.call(this);this.eventTargetListeners_=new k.events.ListenerMap(this);this.actualEventTarget_=this;this.parentEventTarget_=null};k.inherits(k.events.EventTarget,k.Disposable);k.events.Listenable.addImplementation(k.events.EventTarget);k.events.EventTarget.MAX_ANCESTORS_=1E3;d=k.events.EventTarget.prototype;d.getParentEventTarget=function(){return this.parentEventTarget_};d.addEventListener=function(a,b,c,f){k.events.listen(this,a,b,c,f)};
d.removeEventListener=function(a,b,c,f){k.events.unlisten(this,a,b,c,f)};d.dispatchEvent=function(a){ab(this);var b=this.getParentEventTarget();if(b){var c=[];for(var f=1;b;b=b.getParentEventTarget())c.push(b),k.asserts.assert(++f<k.events.EventTarget.MAX_ANCESTORS_,"infinite loop")}return k.events.EventTarget.dispatchEventInternal_(this.actualEventTarget_,a,c)};
d.disposeInternal=function(){k.events.EventTarget.superClass_.disposeInternal.call(this);this.removeAllListeners();this.parentEventTarget_=null};d.listen=function(a,b,c,f){ab(this);return this.eventTargetListeners_.add(String(a),b,!1,c,f)};d.listenOnce=function(a,b,c,f){return this.eventTargetListeners_.add(String(a),b,!0,c,f)};d.unlisten=function(a,b,c,f){return this.eventTargetListeners_.remove(String(a),b,c,f)};d.unlistenByKey=function(a){return Za(this.eventTargetListeners_,a)};
d.removeAllListeners=function(a){return this.eventTargetListeners_?this.eventTargetListeners_.removeAll(a):0};d.fireListeners=function(a,b,c){a=this.eventTargetListeners_.listeners[String(a)];if(!a)return!0;a=a.concat();for(var f=!0,g=0;g<a.length;++g){var h=a[g];if(h&&!h.removed&&h.capture==b){var l=h.listener,r=h.handler||h.src;h.callOnce&&this.unlistenByKey(h);f=!1!==l.call(r,c)&&f}}return f&&!c.defaultPrevented};
d.getListeners=function(a,b){return this.eventTargetListeners_.getListeners(String(a),b)};d.getListener=function(a,b,c,f){return this.eventTargetListeners_.getListener(String(a),b,c,f)};d.hasListener=function(a,b){return this.eventTargetListeners_.hasListener(void 0!==a?String(a):void 0,b)};var ab=function(a){k.asserts.assert(a.eventTargetListeners_,"Event target is not initialized. Did you call the superclass (goog.events.EventTarget) constructor?")};
k.events.EventTarget.dispatchEventInternal_=function(a,b,c){var f=b.type||b;if("string"===typeof b)b=new k.events.Event(b,a);else if(b instanceof k.events.Event)b.target=b.target||a;else{var g=b;b=new k.events.Event(f,a);k.object.extend(b,g)}g=!0;if(c)for(var h=c.length-1;!b.propagationStopped_&&0<=h;h--){var l=b.currentTarget=c[h];g=l.fireListeners(f,!0,b)&&g}b.propagationStopped_||(l=b.currentTarget=a,g=l.fireListeners(f,!0,b)&&g,b.propagationStopped_||(g=l.fireListeners(f,!1,b)&&g));if(c)for(h=
0;!b.propagationStopped_&&h<c.length;h++)l=b.currentTarget=c[h],g=l.fireListeners(f,!1,b)&&g;return g};k.events.EventWrapper=function(){};k.events.EventWrapper.prototype.listen=function(){};k.events.EventWrapper.prototype.unlisten=function(){};k.math={};k.math.randomInt=function(a){return Math.floor(Math.random()*a)};k.math.uniformRandom=function(a,b){return a+Math.random()*(b-a)};k.math.clamp=function(a,b,c){return Math.min(Math.max(a,b),c)};k.math.modulo=function(a,b){a%=b;return 0>a*b?a+b:a};k.math.lerp=function(a,b,c){return a+c*(b-a)};k.math.nearlyEquals=function(a,b,c){return Math.abs(a-b)<=(c||1E-6)};k.math.standardAngle=function(a){return k.math.modulo(a,360)};k.math.standardAngleInRadians=function(a){return k.math.modulo(a,2*Math.PI)};
k.math.toRadians=function(a){return a*Math.PI/180};k.math.toDegrees=function(a){return 180*a/Math.PI};k.math.angleDx=function(a,b){return b*Math.cos(k.math.toRadians(a))};k.math.angleDy=function(a,b){return b*Math.sin(k.math.toRadians(a))};k.math.angle=function(a,b,c,f){return k.math.standardAngle(k.math.toDegrees(Math.atan2(f-b,c-a)))};k.math.angleDifference=function(a,b){a=k.math.standardAngle(b)-k.math.standardAngle(a);180<a?a-=360:-180>=a&&(a=360+a);return a};
k.math.sign=function(a){return 0<a?1:0>a?-1:a};k.math.longestCommonSubsequence=function(a,b,c,f){c=c||function(H,ia){return H==ia};f=f||function(H){return a[H]};for(var g=a.length,h=b.length,l=[],r=0;r<g+1;r++)l[r]=[],l[r][0]=0;for(var v=0;v<h+1;v++)l[0][v]=0;for(r=1;r<=g;r++)for(v=1;v<=h;v++)c(a[r-1],b[v-1])?l[r][v]=l[r-1][v-1]+1:l[r][v]=Math.max(l[r-1][v],l[r][v-1]);var E=[];r=g;for(v=h;0<r&&0<v;)c(a[r-1],b[v-1])?(E.unshift(f(r-1,v-1)),r--,v--):l[r-1][v]>l[r][v-1]?r--:v--;return E};
k.math.sum=function(a){return oa(arguments,function(b,c){return b+c},0)};k.math.average=function(a){return k.math.sum.apply(null,arguments)/arguments.length};k.math.sampleVariance=function(a){var b=arguments.length;if(2>b)return 0;var c=k.math.average.apply(null,arguments);return k.math.sum.apply(null,p(arguments,function(f){return Math.pow(f-c,2)}))/(b-1)};k.math.standardDeviation=function(a){return Math.sqrt(k.math.sampleVariance.apply(null,arguments))};
k.math.isInt=function(a){return isFinite(a)&&0==a%1};k.math.isFiniteNumber=function(a){return isFinite(a)};k.math.isNegativeZero=function(a){return 0==a&&0>1/a};k.math.log10Floor=function(a){if(0<a){var b=Math.round(Math.log(a)*Math.LOG10E);return b-(parseFloat("1e"+b)>a?1:0)}return 0==a?-Infinity:NaN};k.math.safeFloor=function(a,b){k.asserts.assert(void 0===b||0<b);return Math.floor(a+(b||2E-15))};k.math.safeCeil=function(a,b){k.asserts.assert(void 0===b||0<b);return Math.ceil(a-(b||2E-15))};k.iter={};k.iter.StopIteration="StopIteration"in k.global?k.global.StopIteration:{message:"StopIteration",stack:""};k.iter.Iterator=function(){};k.iter.Iterator.prototype.next=function(){throw k.iter.StopIteration;};k.iter.Iterator.prototype.__iterator__=function(){return this};
k.iter.toIterator=function(a){if(a instanceof k.iter.Iterator)return a;if("function"==typeof a.__iterator__)return a.__iterator__(!1);if(k.isArrayLike(a)){var b=0,c=new k.iter.Iterator;c.next=function(){for(;;){if(b>=a.length)throw k.iter.StopIteration;if(b in a)return a[b++];b++}};return c}throw Error("Not implemented");};
k.iter.forEach=function(a,b,c){if(k.isArrayLike(a))try{n(a,b,c)}catch(f){if(f!==k.iter.StopIteration)throw f;}else{a=k.iter.toIterator(a);try{for(;;)b.call(c,a.next(),void 0,a)}catch(f){if(f!==k.iter.StopIteration)throw f;}}};k.iter.filter=function(a,b,c){var f=k.iter.toIterator(a);a=new k.iter.Iterator;a.next=function(){for(;;){var g=f.next();if(b.call(c,g,void 0,f))return g}};return a};k.iter.filterFalse=function(a,b,c){return k.iter.filter(a,k.functions.not(b),c)};
k.iter.range=function(a,b,c){var f=0,g=a,h=c||1;1<arguments.length&&(f=a,g=+b);if(0==h)throw Error("Range step argument must not be zero");var l=new k.iter.Iterator;l.next=function(){if(0<h&&f>=g||0>h&&f<=g)throw k.iter.StopIteration;var r=f;f+=h;return r};return l};k.iter.join=function(a,b){return k.iter.toArray(a).join(b)};k.iter.map=function(a,b,c){var f=k.iter.toIterator(a);a=new k.iter.Iterator;a.next=function(){var g=f.next();return b.call(c,g,void 0,f)};return a};
k.iter.reduce=function(a,b,c,f){var g=c;k.iter.forEach(a,function(h){g=b.call(f,g,h)});return g};k.iter.some=function(a,b,c){a=k.iter.toIterator(a);try{for(;;)if(b.call(c,a.next(),void 0,a))return!0}catch(f){if(f!==k.iter.StopIteration)throw f;}return!1};k.iter.every=function(a,b,c){a=k.iter.toIterator(a);try{for(;;)if(!b.call(c,a.next(),void 0,a))return!1}catch(f){if(f!==k.iter.StopIteration)throw f;}return!0};k.iter.chain=function(a){return k.iter.chainFromIterable(arguments)};
k.iter.chainFromIterable=function(a){var b=k.iter.toIterator(a);a=new k.iter.Iterator;var c=null;a.next=function(){for(;;){if(null==c){var f=b.next();c=k.iter.toIterator(f)}try{return c.next()}catch(g){if(g!==k.iter.StopIteration)throw g;c=null}}};return a};k.iter.dropWhile=function(a,b,c){var f=k.iter.toIterator(a);a=new k.iter.Iterator;var g=!0;a.next=function(){for(;;){var h=f.next();if(!g||!b.call(c,h,void 0,f))return g=!1,h}};return a};
k.iter.takeWhile=function(a,b,c){var f=k.iter.toIterator(a);a=new k.iter.Iterator;a.next=function(){var g=f.next();if(b.call(c,g,void 0,f))return g;throw k.iter.StopIteration;};return a};k.iter.toArray=function(a){if(k.isArrayLike(a))return Da(a);a=k.iter.toIterator(a);var b=[];k.iter.forEach(a,function(c){b.push(c)});return b};k.iter.equals=function(a,b){a=k.iter.zipLongest({},a,b);var c=Ma;return k.iter.every(a,function(f){return c(f[0],f[1])})};
k.iter.nextOrValue=function(a){try{k.iter.toIterator(a).next()}catch(b){if(b!=k.iter.StopIteration)throw b;}};k.iter.product=function(a){if(pa(arguments,function(g){return!g.length})||!arguments.length)return new k.iter.Iterator;var b=new k.iter.Iterator,c=arguments,f=Oa(0,c.length);b.next=function(){if(f){for(var g=p(f,function(l,r){return c[r][l]}),h=f.length-1;0<=h;h--){k.asserts.assert(f);if(f[h]<c[h].length-1){f[h]++;break}if(0==h){f=null;break}f[h]=0}return g}throw k.iter.StopIteration;};return b};
k.iter.cycle=function(a){var b=k.iter.toIterator(a),c=[],f=0;a=new k.iter.Iterator;var g=!1;a.next=function(){var h=null;if(!g)try{return h=b.next(),c.push(h),h}catch(l){if(l!=k.iter.StopIteration||va(c))throw l;g=!0}h=c[f];f=(f+1)%c.length;return h};return a};k.iter.count=function(a,b){var c=a||0,f=void 0!==b?b:1;a=new k.iter.Iterator;a.next=function(){var g=c;c+=f;return g};return a};k.iter.repeat=function(a){var b=new k.iter.Iterator;b.next=k.functions.constant(a);return b};
k.iter.accumulate=function(a){var b=k.iter.toIterator(a),c=0;a=new k.iter.Iterator;a.next=function(){return c+=b.next()};return a};k.iter.zip=function(a){var b=arguments,c=new k.iter.Iterator;if(0<b.length){var f=p(b,k.iter.toIterator);c.next=function(){return p(f,function(g){return g.next()})}}return c};
k.iter.zipLongest=function(a,b){var c=Ea(arguments,1),f=new k.iter.Iterator;if(0<c.length){var g=p(c,k.iter.toIterator);f.next=function(){var h=!1,l=p(g,function(r){try{var v=r.next();h=!0}catch(E){if(E!==k.iter.StopIteration)throw E;v=a}return v});if(!h)throw k.iter.StopIteration;return l}}return f};k.iter.compress=function(a,b){var c=k.iter.toIterator(b);return k.iter.filter(a,function(){return!!c.next()})};
k.iter.GroupByIterator_=function(a,b){this.iterator=k.iter.toIterator(a);this.keyFunc=b||k.functions.identity};k.inherits(k.iter.GroupByIterator_,k.iter.Iterator);
k.iter.GroupByIterator_.prototype.next=function(){for(;this.currentKey==this.targetKey;)this.currentValue=this.iterator.next(),this.currentKey=this.keyFunc(this.currentValue);for(var a=this.targetKey=this.currentKey,b=this.targetKey,c=[];this.currentKey==b;){c.push(this.currentValue);try{this.currentValue=this.iterator.next()}catch(f){if(f!==k.iter.StopIteration)throw f;break}this.currentKey=this.keyFunc(this.currentValue)}return[a,c]};
k.iter.groupBy=function(a,b){return new k.iter.GroupByIterator_(a,b)};k.iter.starMap=function(a,b,c){var f=k.iter.toIterator(a);a=new k.iter.Iterator;a.next=function(){var g=k.iter.toArray(f.next());return b.apply(c,Ca(g,void 0,f))};return a};
k.iter.tee=function(a,b){var c=k.iter.toIterator(a),f=p(Na("number"===typeof b?b:2),function(){return[]}),g=function(){var h=c.next();n(f,function(l){l.push(h)})};return p(f,function(h){var l=new k.iter.Iterator;l.next=function(){va(h)&&g();k.asserts.assert(!va(h));return h.shift()};return l})};k.iter.enumerate=function(a,b){return k.iter.zip(k.iter.count(b),a)};
k.iter.limit=function(a,b){k.asserts.assert(k.math.isInt(b)&&0<=b);var c=k.iter.toIterator(a);a=new k.iter.Iterator;var f=b;a.next=function(){if(0<f--)return c.next();throw k.iter.StopIteration;};return a};k.iter.consume=function(a,b){k.asserts.assert(k.math.isInt(b)&&0<=b);for(a=k.iter.toIterator(a);0<b--;)k.iter.nextOrValue(a);return a};
k.iter.slice=function(a,b,c){k.asserts.assert(k.math.isInt(b)&&0<=b);a=k.iter.consume(a,b);"number"===typeof c&&(k.asserts.assert(k.math.isInt(c)&&c>=b),a=k.iter.limit(a,c-b));return a};k.iter.hasDuplicates_=function(a){var b=[];Fa(a,b);return a.length!=b.length};k.iter.permutations=function(a,b){a=k.iter.toArray(a);b=k.iter.product.apply(void 0,Oa(a,"number"===typeof b?b:a.length));return k.iter.filter(b,function(c){return!k.iter.hasDuplicates_(c)})};
k.iter.combinations=function(a,b){function c(h){return f[h]}var f=k.iter.toArray(a);a=k.iter.range(f.length);b=k.iter.permutations(a,b);var g=k.iter.filter(b,function(h){return La(h)});b=new k.iter.Iterator;b.next=function(){return p(g.next(),c)};return b};
k.iter.combinationsWithReplacement=function(a,b){function c(h){return f[h]}var f=k.iter.toArray(a);a=Na(f.length);b=k.iter.product.apply(void 0,Oa(a,b));var g=k.iter.filter(b,function(h){return La(h)});b=new k.iter.Iterator;b.next=function(){return p(g.next(),c)};return b};k.structs={};k.structs.Map=function(a,b){this.map_={};this.keys_=[];this.version_=this.count_=0;var c=arguments.length;if(1<c){if(c%2)throw Error("Uneven number of arguments");for(var f=0;f<c;f+=2)this.set(arguments[f],arguments[f+1])}else a&&this.addAll(a)};d=k.structs.Map.prototype;d.getCount=function(){return this.count_};d.getValues=function(){bb(this);for(var a=[],b=0;b<this.keys_.length;b++)a.push(this.map_[this.keys_[b]]);return a};d.getKeys=function(){bb(this);return this.keys_.concat()};
d.containsKey=function(a){return k.structs.Map.hasKey_(this.map_,a)};d.containsValue=function(a){for(var b=0;b<this.keys_.length;b++){var c=this.keys_[b];if(k.structs.Map.hasKey_(this.map_,c)&&this.map_[c]==a)return!0}return!1};d.equals=function(a,b){if(this===a)return!0;if(this.count_!=a.getCount())return!1;b=b||k.structs.Map.defaultEquals;bb(this);for(var c,f=0;c=this.keys_[f];f++)if(!b(this.get(c),a.get(c)))return!1;return!0};k.structs.Map.defaultEquals=function(a,b){return a===b};
k.structs.Map.prototype.isEmpty=function(){return 0==this.count_};k.structs.Map.prototype.clear=function(){this.map_={};this.version_=this.count_=this.keys_.length=0};k.structs.Map.prototype.remove=function(a){return k.structs.Map.hasKey_(this.map_,a)?(delete this.map_[a],this.count_--,this.version_++,this.keys_.length>2*this.count_&&bb(this),!0):!1};
var bb=function(a){if(a.count_!=a.keys_.length){for(var b=0,c=0;b<a.keys_.length;){var f=a.keys_[b];k.structs.Map.hasKey_(a.map_,f)&&(a.keys_[c++]=f);b++}a.keys_.length=c}if(a.count_!=a.keys_.length){var g={};for(c=b=0;b<a.keys_.length;)f=a.keys_[b],k.structs.Map.hasKey_(g,f)||(a.keys_[c++]=f,g[f]=1),b++;a.keys_.length=c}};d=k.structs.Map.prototype;d.get=function(a,b){return k.structs.Map.hasKey_(this.map_,a)?this.map_[a]:b};
d.set=function(a,b){k.structs.Map.hasKey_(this.map_,a)||(this.count_++,this.keys_.push(a),this.version_++);this.map_[a]=b};d.addAll=function(a){if(a instanceof k.structs.Map)for(var b=a.getKeys(),c=0;c<b.length;c++)this.set(b[c],a.get(b[c]));else for(b in a)this.set(b,a[b])};d.forEach=function(a,b){for(var c=this.getKeys(),f=0;f<c.length;f++){var g=c[f],h=this.get(g);a.call(b,h,g,this)}};d.clone=function(){return new k.structs.Map(this)};
d.transpose=function(){for(var a=new k.structs.Map,b=0;b<this.keys_.length;b++){var c=this.keys_[b];a.set(this.map_[c],c)}return a};d.toObject=function(){bb(this);for(var a={},b=0;b<this.keys_.length;b++){var c=this.keys_[b];a[c]=this.map_[c]}return a};
d.__iterator__=function(a){bb(this);var b=0,c=this.version_,f=this,g=new k.iter.Iterator;g.next=function(){if(c!=f.version_)throw Error("The map has changed since the iterator was created");if(b>=f.keys_.length)throw k.iter.StopIteration;var h=f.keys_[b++];return a?h:f.map_[h]};return g};k.structs.Map.hasKey_=function(a,b){return Object.prototype.hasOwnProperty.call(a,b)};k.structs.LinkedMap=function(a){this.maxCount_=a||null;this.cache_=!0;this.evictionCallback_=void 0;this.map_=new k.structs.Map;this.head_=new k.structs.LinkedMap.Node_("",void 0);this.head_.next=this.head_.prev=this.head_};var db=function(a,b){(b=a.map_.get(b))&&a.cache_&&(b.remove(),cb(a,b));return b};d=k.structs.LinkedMap.prototype;d.get=function(a,b){return(a=db(this,a))?a.value:b};
d.set=function(a,b){var c=db(this,a);c?c.value=b:(c=new k.structs.LinkedMap.Node_(a,b),this.map_.set(a,c),cb(this,c))};d.peek=function(){return this.head_.next.value};d.shift=function(){return eb(this,this.head_.next)};d.pop=function(){return eb(this,this.head_.prev)};d.remove=function(a){return(a=this.map_.get(a))?(this.removeNode(a),!0):!1};d.removeNode=function(a){a.remove();this.map_.remove(a.key)};d.getCount=function(){return this.map_.getCount()};d.isEmpty=function(){return this.map_.isEmpty()};
d.getKeys=function(){return this.map(function(a,b){return b})};d.getValues=function(){return this.map(function(a){return a})};d.contains=function(a){return this.some(function(b){return b==a})};d.containsKey=function(a){return this.map_.containsKey(a)};d.clear=function(){gb(this,0)};d.forEach=function(a,b){for(var c=this.head_.next;c!=this.head_;c=c.next)a.call(b,c.value,c.key,this)};d.map=function(a,b){for(var c=[],f=this.head_.next;f!=this.head_;f=f.next)c.push(a.call(b,f.value,f.key,this));return c};
d.some=function(a,b){for(var c=this.head_.next;c!=this.head_;c=c.next)if(a.call(b,c.value,c.key,this))return!0;return!1};d.every=function(a,b){for(var c=this.head_.next;c!=this.head_;c=c.next)if(!a.call(b,c.value,c.key,this))return!1;return!0};
var cb=function(a,b){a.cache_?(b.next=a.head_.next,b.prev=a.head_,a.head_.next=b,b.next.prev=b):(b.prev=a.head_.prev,b.next=a.head_,a.head_.prev=b,b.prev.next=b);null!=a.maxCount_&&gb(a,a.maxCount_)},gb=function(a,b){for(;a.getCount()>b;){var c=a.cache_?a.head_.prev:a.head_.next;a.removeNode(c);a.evictionCallback_&&a.evictionCallback_(c.key,c.value)}},eb=function(a,b){a.head_!=b&&a.removeNode(b);return b.value};k.structs.LinkedMap.Node_=function(a,b){this.key=a;this.value=b};
k.structs.LinkedMap.Node_.prototype.remove=function(){this.prev.next=this.next;this.next.prev=this.prev;delete this.prev;delete this.next};var hb=function(a,b){k.events.EventTarget.call(this);this.timeout_=a||36E5;this.cache_=new k.structs.LinkedMap(b||100)};e.inherits(hb,k.events.EventTarget);hb.prototype.get=function(a){return(a=this.cache_.get(a))&&Date.now()-a.timeStamp_<=this.timeout_?a.licenses_:null};hb.prototype.remove=function(a){this.cache_.remove(a)};hb.Entry=function(a){this.timeStamp_=Date.now();this.licenses_=a};da.LicensesCache=hb;k.structs.getCount=function(a){return a.getCount&&"function"==typeof a.getCount?a.getCount():k.isArrayLike(a)||"string"===typeof a?a.length:k.object.getCount(a)};k.structs.getValues=function(a){if(a.getValues&&"function"==typeof a.getValues)return a.getValues();if("string"===typeof a)return a.split("");if(k.isArrayLike(a)){for(var b=[],c=a.length,f=0;f<c;f++)b.push(a[f]);return b}return k.object.getValues(a)};
k.structs.getKeys=function(a){if(a.getKeys&&"function"==typeof a.getKeys)return a.getKeys();if(!a.getValues||"function"!=typeof a.getValues){if(k.isArrayLike(a)||"string"===typeof a){var b=[];a=a.length;for(var c=0;c<a;c++)b.push(c);return b}return k.object.getKeys(a)}};
k.structs.contains=function(a,b){return a.contains&&"function"==typeof a.contains?a.contains(b):a.containsValue&&"function"==typeof a.containsValue?a.containsValue(b):k.isArrayLike(a)||"string"===typeof a?ua(a,b):k.object.containsValue(a,b)};k.structs.isEmpty=function(a){return a.isEmpty&&"function"==typeof a.isEmpty?a.isEmpty():k.isArrayLike(a)||"string"===typeof a?va(a):k.object.isEmpty(a)};k.structs.clear=function(a){a.clear&&"function"==typeof a.clear?a.clear():k.isArrayLike(a)?wa(a):k.object.clear(a)};
k.structs.forEach=function(a,b,c){if(a.forEach&&"function"==typeof a.forEach)a.forEach(b,c);else if(k.isArrayLike(a)||"string"===typeof a)n(a,b,c);else for(var f=k.structs.getKeys(a),g=k.structs.getValues(a),h=g.length,l=0;l<h;l++)b.call(c,g[l],f&&f[l],a)};
k.structs.filter=function(a,b,c){if("function"==typeof a.filter)return a.filter(b,c);if(k.isArrayLike(a)||"string"===typeof a)return na(a,b,c);var f=k.structs.getKeys(a),g=k.structs.getValues(a),h=g.length;if(f){var l={};for(var r=0;r<h;r++)b.call(c,g[r],f[r],a)&&(l[f[r]]=g[r])}else for(l=[],r=0;r<h;r++)b.call(c,g[r],void 0,a)&&l.push(g[r]);return l};
k.structs.map=function(a,b,c){if("function"==typeof a.map)return a.map(b,c);if(k.isArrayLike(a)||"string"===typeof a)return p(a,b,c);var f=k.structs.getKeys(a),g=k.structs.getValues(a),h=g.length;if(f){var l={};for(var r=0;r<h;r++)l[f[r]]=b.call(c,g[r],f[r],a)}else for(l=[],r=0;r<h;r++)l[r]=b.call(c,g[r],void 0,a);return l};
k.structs.some=function(a,b,c){if("function"==typeof a.some)return a.some(b,c);if(k.isArrayLike(a)||"string"===typeof a)return pa(a,b,c);for(var f=k.structs.getKeys(a),g=k.structs.getValues(a),h=g.length,l=0;l<h;l++)if(b.call(c,g[l],f&&f[l],a))return!0;return!1};
k.structs.every=function(a,b,c){if("function"==typeof a.every)return a.every(b,c);if(k.isArrayLike(a)||"string"===typeof a)return qa(a,b,c);for(var f=k.structs.getKeys(a),g=k.structs.getValues(a),h=g.length,l=0;l<h;l++)if(!b.call(c,g[l],f&&f[l],a))return!1;return!0};k.uri={};k.uri.utils={};k.uri.utils.CharCode_={AMPERSAND:38,EQUAL:61,HASH:35,QUESTION:63};k.uri.utils.buildFromEncodedParts=function(a,b,c,f,g,h,l){var r="";a&&(r+=a+":");c&&(r+="//",b&&(r+=b+"@"),r+=c,f&&(r+=":"+f));g&&(r+=g);h&&(r+="?"+h);l&&(r+="#"+l);return r};k.uri.utils.splitRe_=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;k.uri.utils.ComponentIndex={SCHEME:1,USER_INFO:2,DOMAIN:3,PORT:4,PATH:5,QUERY_DATA:6,FRAGMENT:7};
k.uri.utils.urlPackageSupportLoggingHandler_=null;k.uri.utils.setUrlPackageSupportLoggingHandler=function(a){k.uri.utils.urlPackageSupportLoggingHandler_=a};k.uri.utils.split=function(a){var b=a.match(k.uri.utils.splitRe_);k.uri.utils.urlPackageSupportLoggingHandler_&&0<=["http","https","ws","wss","ftp"].indexOf(b[k.uri.utils.ComponentIndex.SCHEME])&&k.uri.utils.urlPackageSupportLoggingHandler_(a);return b};
k.uri.utils.decodeIfPossible_=function(a,b){return a?b?decodeURI(a):decodeURIComponent(a):a};k.uri.utils.getComponentByIndex_=function(a,b){return k.uri.utils.split(b)[a]||null};k.uri.utils.getScheme=function(a){return k.uri.utils.getComponentByIndex_(k.uri.utils.ComponentIndex.SCHEME,a)};k.uri.utils.getEffectiveScheme=function(a){a=k.uri.utils.getScheme(a);!a&&k.global.self&&k.global.self.location&&(a=k.global.self.location.protocol,a=a.substr(0,a.length-1));return a?a.toLowerCase():""};
k.uri.utils.getUserInfoEncoded=function(){return k.uri.utils.getComponentByIndex_(k.uri.utils.ComponentIndex.USER_INFO,void 0)};k.uri.utils.getUserInfo=function(){return k.uri.utils.decodeIfPossible_(k.uri.utils.getUserInfoEncoded())};k.uri.utils.getDomainEncoded=function(){return k.uri.utils.getComponentByIndex_(k.uri.utils.ComponentIndex.DOMAIN,void 0)};k.uri.utils.getDomain=function(){return k.uri.utils.decodeIfPossible_(k.uri.utils.getDomainEncoded(),!0)};
k.uri.utils.getPort=function(){return Number(k.uri.utils.getComponentByIndex_(k.uri.utils.ComponentIndex.PORT,void 0))||null};k.uri.utils.getPathEncoded=function(){return k.uri.utils.getComponentByIndex_(k.uri.utils.ComponentIndex.PATH,void 0)};k.uri.utils.getPath=function(){return k.uri.utils.decodeIfPossible_(k.uri.utils.getPathEncoded(),!0)};k.uri.utils.getQueryData=function(){return k.uri.utils.getComponentByIndex_(k.uri.utils.ComponentIndex.QUERY_DATA,void 0)};
k.uri.utils.getFragmentEncoded=function(){var a=(void 0).indexOf("#");return 0>a?null:(void 0).substr(a+1)};k.uri.utils.setFragmentEncoded=function(a,b){return k.uri.utils.removeFragment(a)+(b?"#"+b:"")};k.uri.utils.getFragment=function(){return k.uri.utils.decodeIfPossible_(k.uri.utils.getFragmentEncoded())};
k.uri.utils.getHost=function(a){a=k.uri.utils.split(a);return k.uri.utils.buildFromEncodedParts(a[k.uri.utils.ComponentIndex.SCHEME],a[k.uri.utils.ComponentIndex.USER_INFO],a[k.uri.utils.ComponentIndex.DOMAIN],a[k.uri.utils.ComponentIndex.PORT])};k.uri.utils.getOrigin=function(a){a=k.uri.utils.split(a);return k.uri.utils.buildFromEncodedParts(a[k.uri.utils.ComponentIndex.SCHEME],null,a[k.uri.utils.ComponentIndex.DOMAIN],a[k.uri.utils.ComponentIndex.PORT])};
k.uri.utils.getPathAndAfter=function(a){a=k.uri.utils.split(a);return k.uri.utils.buildFromEncodedParts(null,null,null,null,a[k.uri.utils.ComponentIndex.PATH],a[k.uri.utils.ComponentIndex.QUERY_DATA],a[k.uri.utils.ComponentIndex.FRAGMENT])};k.uri.utils.removeFragment=function(a){var b=a.indexOf("#");return 0>b?a:a.substr(0,b)};
k.uri.utils.haveSameDomain=function(a,b){a=k.uri.utils.split(a);b=k.uri.utils.split(b);return a[k.uri.utils.ComponentIndex.DOMAIN]==b[k.uri.utils.ComponentIndex.DOMAIN]&&a[k.uri.utils.ComponentIndex.SCHEME]==b[k.uri.utils.ComponentIndex.SCHEME]&&a[k.uri.utils.ComponentIndex.PORT]==b[k.uri.utils.ComponentIndex.PORT]};k.uri.utils.assertNoFragmentsOrQueries_=function(a){k.asserts.assert(0>a.indexOf("#")&&0>a.indexOf("?"),"goog.uri.utils: Fragment or query identifiers are not supported: [%s]",a)};
k.uri.utils.parseQueryData=function(a,b){if(a){a=a.split("&");for(var c=0;c<a.length;c++){var f=a[c].indexOf("="),g=null;if(0<=f){var h=a[c].substring(0,f);g=a[c].substring(f+1)}else h=a[c];b(h,g?k.string.urlDecode(g):"")}}};k.uri.utils.splitQueryData_=function(a){var b=a.indexOf("#");0>b&&(b=a.length);var c=a.indexOf("?");if(0>c||c>b){c=b;var f=""}else f=a.substring(c+1,b);return[a.substr(0,c),f,a.substr(b)]};k.uri.utils.joinQueryData_=function(a){return a[0]+(a[1]?"?"+a[1]:"")+a[2]};
k.uri.utils.appendQueryData_=function(a,b){return b?a?a+"&"+b:b:a};k.uri.utils.appendQueryDataToUri_=function(a,b){if(!b)return a;a=k.uri.utils.splitQueryData_(a);a[1]=k.uri.utils.appendQueryData_(a[1],b);return k.uri.utils.joinQueryData_(a)};k.uri.utils.appendKeyValuePairs_=function(a,b,c){k.asserts.assertString(a);if(Array.isArray(b)){k.asserts.assertArray(b);for(var f=0;f<b.length;f++)k.uri.utils.appendKeyValuePairs_(a,String(b[f]),c)}else null!=b&&c.push(a+(""===b?"":"="+k.string.urlEncode(b)))};
k.uri.utils.buildQueryData=function(a,b){k.asserts.assert(0==Math.max(a.length-(b||0),0)%2,"goog.uri.utils: Key/value lists must be even in length.");var c=[];for(b=b||0;b<a.length;b+=2)k.uri.utils.appendKeyValuePairs_(a[b],a[b+1],c);return c.join("&")};k.uri.utils.buildQueryDataFromMap=function(a){var b=[],c;for(c in a)k.uri.utils.appendKeyValuePairs_(c,a[c],b);return b.join("&")};
k.uri.utils.appendParams=function(a,b){var c=2==arguments.length?k.uri.utils.buildQueryData(arguments[1],0):k.uri.utils.buildQueryData(arguments,1);return k.uri.utils.appendQueryDataToUri_(a,c)};k.uri.utils.appendParamsFromMap=function(a,b){b=k.uri.utils.buildQueryDataFromMap(b);return k.uri.utils.appendQueryDataToUri_(a,b)};k.uri.utils.appendParam=function(a,b,c){c=null!=c?"="+k.string.urlEncode(c):"";return k.uri.utils.appendQueryDataToUri_(a,b+c)};
k.uri.utils.findParam_=function(a,b,c,f){for(var g=c.length;0<=(b=a.indexOf(c,b))&&b<f;){var h=a.charCodeAt(b-1);if(h==k.uri.utils.CharCode_.AMPERSAND||h==k.uri.utils.CharCode_.QUESTION)if(h=a.charCodeAt(b+g),!h||h==k.uri.utils.CharCode_.EQUAL||h==k.uri.utils.CharCode_.AMPERSAND||h==k.uri.utils.CharCode_.HASH)return b;b+=g+1}return-1};k.uri.utils.hashOrEndRe_=/#|$/;k.uri.utils.hasParam=function(a,b){return 0<=k.uri.utils.findParam_(a,0,b,a.search(k.uri.utils.hashOrEndRe_))};
k.uri.utils.getParamValue=function(a,b){var c=a.search(k.uri.utils.hashOrEndRe_),f=k.uri.utils.findParam_(a,0,b,c);if(0>f)return null;var g=a.indexOf("&",f);if(0>g||g>c)g=c;f+=b.length+1;return k.string.urlDecode(a.substr(f,g-f))};k.uri.utils.getParamValues=function(a,b){for(var c=a.search(k.uri.utils.hashOrEndRe_),f=0,g,h=[];0<=(g=k.uri.utils.findParam_(a,f,b,c));){f=a.indexOf("&",g);if(0>f||f>c)f=c;g+=b.length+1;h.push(k.string.urlDecode(a.substr(g,f-g)))}return h};
k.uri.utils.trailingQueryPunctuationRe_=/[?&]($|#)/;k.uri.utils.removeParam=function(a,b){for(var c=a.search(k.uri.utils.hashOrEndRe_),f=0,g,h=[];0<=(g=k.uri.utils.findParam_(a,f,b,c));)h.push(a.substring(f,g)),f=Math.min(a.indexOf("&",g)+1||c,c);h.push(a.substr(f));return h.join("").replace(k.uri.utils.trailingQueryPunctuationRe_,"$1")};
